(function(){var e={2216:function(e,t,a){"use strict";var s=a(144),r=a(1096),i=a(5378),l=a(8983),n=a(3974),o=a(4192),d=a(5057),c=a(7615),u=a(248),f=a(1908),h=a(2755),p=a(4831),g=a(3551),m=a(1969),y=a(8236),_=a(6275),v=a(1302),b=a(1692),k=a(5234),w=a(2370),O=function(){var e=this,t=e._self._c;return t(r.Z,{staticClass:"app",class:{loading:!e.hasUser},attrs:{id:"inspire"}},[t(y.Z,{staticClass:"app-loading-overlay",attrs:{value:e.getLoading,"z-index":"99999",opacity:".9"}},[t(v.Z,{attrs:{indeterminate:"",color:"yellow darken-2"}}),t(n.Z,e._l(e.getLoadingMessages,(function(a,s){return t("p",{key:s,staticClass:"title",class:{red:a.error}},[s===e.getLoadingMessages.length-1?t(_.Z,{staticClass:"mr-2",attrs:{indeterminate:"",color:"yellow",size:"24"}}):t(d.Z,{staticClass:"mr-2",attrs:{color:"green"}},[e._v("fa-check")]),e._v(" "+e._s(a.message)+" ")],1)})),0)],1),t(b.Z,{attrs:{color:"error",timeout:4e3,top:!0},model:{value:e.showSnack,callback:function(t){e.showSnack=t},expression:"showSnack"}},[t("p",{staticClass:"text-h4"},[e._v(e._s(e.snackMessage))])]),e.hasUser?t("div",[t(m.Z,{staticClass:"blue-grey darken-2",attrs:{dark:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t(u.Z,{attrs:{color:"blue-grey darken-2"}},[t(f.Z,{attrs:{to:"/home",color:"white"}},[t(h.Z,[t(d.Z,[e._v("fa-home")])],1),t(p.km,[t(p.V9,[e._v("Start/Leagues")])],1)],1),t(f.Z,{attrs:{to:"/feed",color:"white"}},[t(h.Z,[t(d.Z,[e._v("fa-rss-square")])],1),t(p.km,[t(p.V9,[e._v("News Feed")])],1)],1),t(f.Z,{attrs:{to:"/table",color:"white"}},[t(h.Z,[t(d.Z,[e._v("fa-trophy")])],1),t(p.km,[t(p.V9,[e._v("League")])],1)],1),t(f.Z,{attrs:{to:"/transfermarket",color:"white"}},[t(h.Z,[t(d.Z,[e._v("fa-exchange-alt")])],1),t(p.km,[t(p.V9,[e._v("Transfer market")])],1)],1),t(f.Z,{attrs:{to:"/sell",color:"white"}},[t(h.Z,[t(d.Z,[e._v("fa-money-bill-alt")])],1),t(p.km,[t(p.V9,[e._v("Offers / Sell")])],1)],1),t(f.Z,{attrs:{to:"/lineup",color:"white"}},[t(h.Z,[t(d.Z,[e._v("fa-user-friends")])],1),t(p.km,[t(p.V9,[e._v("Lineup")])],1)],1),t(f.Z,{attrs:{to:"/live",color:"white"}},[t(h.Z,[t(d.Z,[e._v("fa-satellite-dish")])],1),t(p.km,[t(p.V9,[e._v("Live Scores")])],1)],1),t(f.Z,{attrs:{color:"white"}},[t(p.km,[t(o.Z)],1)],1),t(f.Z,{attrs:{to:"/settings",color:"white"}},[t(h.Z,[t(d.Z,[e._v("fa-cog")])],1),t(p.km,[t(p.V9,[e._v("Settings")])],1)],1),t(f.Z,{attrs:{color:"white"}},[t(p.km,[t(o.Z)],1)],1),t(f.Z,{attrs:{color:"white"},on:{click:e.doLogout}},[t(h.Z,[t(d.Z,[e._v("fa-sign-out-alt")])],1),t(p.km,[t(p.V9,[e._v("Logout")])],1)],1),t(f.Z,{attrs:{color:"white"}},[t(p.km,[t(o.Z)],1)],1),t(f.Z,{attrs:{color:"white"}},[t(p.km,[t(p.V9,[e._v("version: "+e._s(e.version))])],1)],1)],1)],1),t(i.Z,{attrs:{app:"",color:"black",dark:""}},[t(l.Z,{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),t(w.qW,{staticClass:"d-none d-sm-none d-md-flex",staticStyle:{"align-items":"baseline"}},[e._v(" KICKBASE"),t("span",{staticClass:"yellow--text"},[e._v("+")]),e.leagueName?t("small",[e._v(" "+e._s(e.leagueName)+" ")]):e._e()]),t(k.Z),e.getUsersDetails&&e.getUsersDetails.budget?t("small",{staticStyle:{"font-size":"11px"},domProps:{innerHTML:e._s(e.getPlayersDetails)}}):t(_.Z,{attrs:{indeterminate:"",size:"16"}}),t(k.Z),t("div",{staticStyle:{"font-size":"11px"}},[e._v(" daily bonus:"),t("br"),!0===e.getFetchedGift?t("span",[t(d.Z,{attrs:{color:"green darken-2"}},[e._v("fa-heart")]),e._v("Â  "),t("span",[0!==e.getGiftBonus?t("span",[e._v(e._s(e.getGiftBonus)+" / ")]):e._e(),e._v(e._s(e.getGiftLevel))])],1):!1===e.getFetchedGift?t("span",[t(d.Z,{attrs:{color:"red"}},[e._v("fa-sad-tear")])],1):t(_.Z,{attrs:{indeterminate:"",size:"16"}})],1)],1),t(g.Z,[t(n.Z,{attrs:{fluid:"","fill-height":""}},[t(c.Z,{attrs:{"align-center":"","justify-center":""}},[t("router-view")],1)],1)],1)],1):e.hasUser?e._e():t("login-dialog")],1)},C=[],x=a(629),S=a(381),P=a.n(S),D=a(2077),E=a.n(D),L=(a(7658),a(9669)),T=a.n(L);function A(e){return e.authData}function M(e){return e.errorMessage}function Z(e){return e.bids}function N(e){return e.players}function I(e){return e.liveData}function B(e){return e.users}function j(e){return e.teams}function F(e){return e.marketValueComparisonPlayer}function V(e){return e.bearerToken}function R(e){return e.self}function U(e){return e.selfData}function G(e){return e.league}function W(e){let t=null;if(e.leagues&&e.leagues.length&&e.league){const a=e.leagues.filter((t=>t.id===e.league));1===a.length&&(t=a[0])}return t}function z(e){return e.ranking}function $(e){return e.matchDays}function q(e){return e.matches}function K(e){return e.nextMatchDay}function H(e){return e.self&&e.users[e.self]?e.users[e.self]:null}function Y(e){return e.self&&e.users[e.self]&&e.users[e.self].players?e.users[e.self].players:[]}function X(e){return e.loading}function J(e){return e.loadingMessages}function Q(e){return e.fetchedGift}function ee(e){return e.giftBonus}function te(e){return e.giftLevel}function ae(e){return e.leagues}function se(e){return e.offerOpenPlayerNotOnMarketPanel}function re(e){return e.generalPlayerCardShowAlwaysAllDetails}function ie(e){return e.offerOpenPlayerWithoutAnyOfferPanel}function le(e){return e.offerThreshold}function ne(e){return e.offerOrder}function oe(e){return e.offerShowTooLowOffersOnly}function de(e){return e.transfermarketExpiryDateFadeEffect}function ce(e){return e.transfermarketExpiryDisplayType}function ue(e){return e.defaults.offerOrders[e.offerOrder.init]??"n/a"}function fe(e){return e.defaults}function he(e){return e.initialized}function pe(e){return e.nextThreeMatchDays}var ge={getInitialized:he,getAuthData:A,getErrorMessage:M,getBids:Z,getPlayers:N,getUsers:B,getBearerToken:V,getSelf:R,getSelfData:U,getTeams:j,getMatchDays:$,getMatches:q,getNextMatchDay:K,getLeague:G,getLeagues:ae,getSelectedLeague:W,getUsersDetails:H,getPlayersOfUser:Y,getRanking:z,getLoading:X,getLoadingMessages:J,getFetchedGift:Q,getGiftBonus:ee,getLiveData:I,getGiftLevel:te,getOfferOpenPlayerNotOnMarketPanel:se,getOfferOpenPlayerWithoutAnyOfferPanel:ie,getGeneralPlayerCardShowAlwaysAllDetails:re,getTransfermarketExpiryDateFadeEffect:de,getTransfermarketExpiryDisplayType:ce,getOfferThreshold:le,getOfferShowTooLowOffersOnly:oe,getOfferOrder:ne,getOfferOrderLabel:ue,getDefaults:fe,getMarketValueComparisonPlayer:F,getNextThreeMatchDays:pe},me={LOCALSTORAGE:{BEARER_TOKEN:"token",BEARER_TOKEN_EXPIRATION:"tokenExp",GIFT_DATA:"giftData",GENERAL_PLAYER_CARD_SHOW_ALWAYS_ALL_DETAILS:"generalPlayerCardShowAlwaysAllDetails",OFFER_THRESHOLD:"offerThreshold",OFFER_ORDER:"offerOrder",OFFER_SHOW_TOO_LOW_OFFERS_ONLY:"offerShowTooLowOffersOnly",OFFER_PANEL_PLAYER_NOT_ON_MARKET:"offerPanelOpenPlayerNotOnMarket",OFFER_PANEL_PLAYER_WITHOUT_ANY_OFFER:"offerPanelOpenPlayerWithoutAnyOffer",TRANSFER_MARKET_EXPIRY_DATE_FADE_EFFECT:"transfermarketExpiryDateFadeEffect",TRANSFER_MARKET_EXPIRY_DISPLAY_TYPE:"transfermarketExpiryDisplayType"}};function ye(e,t){e.players=t}function _e(e,t){e.users=t}function ve(e,t){e.teams=t}function be(e,t){e.matches=t}function ke(e,t){e.nextMatchDay=t}function we(e,t){e.liveData=t}function Oe(e,t){if(t.id){const a=Object.assign({},e.players);a[t.id]=t,e.players=a}}function Ce(e,t){if(t.user&&t.players){const a=Object.assign({},e.users),s=Object.assign({},a[t.user]);s.players=t.players,a[t.user]=s,e.users=a,1*t.user.id===e.self&&(e.players=t.players)}}function xe(e,t){if(t.day&&t.data){const a=Object.assign({},e.matchDays);a[t.day]=t.data,e.matchDays=a}}function Se(e,t){if(t.user&&t.data){const a=Object.assign({},e.users),s=Object.assign({},a[t.user]);s.lineup=t.data,a[t.user]=s,e.users=a}}function Pe(e,t){if(t.user&&t.transfers){const a=Object.assign({},e.users),s=Object.assign({},a[t.user]),r=s.transfers||{},i=Object.assign(r,t.transfers),l=Object.keys(i).sort(((e,t)=>e>t?-1:1)),n=[];for(let e=0;e<20;e++)l[e]&&n.push(i[l[e]]);s.lastTransfers=n,s.transfers=i,a[t.user]=s,e.users=a}}function De(e,t){if(t.id){const a=Object.assign({},e.users);t.ts=Date.now(),a[t.id]=t,e.users=a}}function Ee(e,t){e.bids=t}function Le(e,t){e.errorMessage=t}function Te(e,t){e.authData=t}function Ae(e,t){e.loading=t}function Me(e,t){e.fetchedGift=t}function Ze(e,t){e.giftLevel=t}function Ne(e,t){e.giftBonus=t}function Ie(e,t){e.self=t}function Be(e,t){e.selfData=t}function je(e,t){e.leagues=t}function Fe(e,t){e.league=t}function Ve(e){e.loading=!1,e.loadingMessages=[]}function Re(e,t){e.loadingMessages=t}function Ue(e,t){e.ranking=t}function Ge(e,t){e.loadingMessages.push({message:t})}function We(e,t){e.loadingMessages.push({message:t,error:!0})}function ze(e,t){localStorage.setItem(me.LOCALSTORAGE.OFFER_THRESHOLD,t),e.offerThreshold=t}function $e(e,t){localStorage.setItem(me.LOCALSTORAGE.OFFER_SHOW_TOO_LOW_OFFERS_ONLY,t),e.offerShowTooLowOffersOnly=t}function qe(e,t){localStorage.setItem(me.LOCALSTORAGE.GENERAL_PLAYER_CARD_SHOW_ALWAYS_ALL_DETAILS,t),e.generalPlayerCardShowAlwaysAllDetails=t}function Ke(e,t){localStorage.setItem(me.LOCALSTORAGE.OFFER_PANEL_PLAYER_NOT_ON_MARKET,t),e.offerOpenPlayerNotOnMarketPanel=t}function He(e,t){localStorage.setItem(me.LOCALSTORAGE.OFFER_PANEL_PLAYER_WITHOUT_ANY_OFFER,t),e.offerOpenPlayerWithoutAnyOfferPanel=t}function Ye(e,t){localStorage.setItem(me.LOCALSTORAGE.TRANSFER_MARKET_EXPIRY_DATE_FADE_EFFECT,t),e.transfermarketExpiryDateFadeEffect=t}function Xe(e,t){localStorage.setItem(me.LOCALSTORAGE.TRANSFER_MARKET_EXPIRY_DISPLAY_TYPE,t),e.transfermarketExpiryDisplayType=t}function Je(e,t){!0===t.isTemporary?e.offerOrder.temporary=t.order:(e.offerOrder.init=t.order,localStorage.setItem(me.LOCALSTORAGE.OFFER_ORDER,t.order))}function Qe(e,t){e.marketValueComparisonPlayer=t}function et(e,t){e.initialized=t}function tt(e,t){e.nextThreeMatchDays=t}var at={setInitialized:et,addPlayer:Oe,addUsersPlayer:Ce,addUsersLineup:Se,addTransfersToUser:Pe,addMatchDay:xe,addUser:De,setSelf:Ie,setTeams:ve,setMatches:be,setNextMatchDay:ke,setSelfData:Be,setLeague:Fe,setPlayers:ye,setUsers:_e,setNextThreeMatchDays:tt,setBids:Ee,setErrorMessage:Le,setLoadingMessages:Re,setAuthData:Te,setLoading:Ae,setRanking:Ue,resetLoading:Ve,addLoadingMessage:Ge,addErrorLoadingMessage:We,setFetchedGift:Me,setGiftLevel:Ze,setGiftBonus:Ne,setLiveData:we,setLeagues:je,setOfferThreshold:ze,setOfferShowTooLowOffersOnly:$e,setOfferOpenPlayerNotOnMarketPanel:Ke,setOfferOpenPlayerWithoutAnyOfferPanel:He,setGeneralPlayerCardShowAlwaysAllDetails:qe,setTransfermarketExpiryDateFadeEffect:Ye,setTransfermarketExpiryDisplayType:Xe,setOfferOrder:Je,setMarketValueComparison:Qe};function st(e){e.commit("setInitialized",!0)}var rt={setAsInitialized:st};s.ZP.use(x.ZP);const it=new x.ZP.Store({state:{initialized:!1,fetchedGift:null,giftBonus:0,giftLevel:0,errorMessage:null,authData:{},teams:[],bids:[],players:{},users:{},liveData:{},matches:[],matchDays:{},nextThreeMatchDays:[],nextMatchDay:null,loading:!1,loadingMessages:[],leagues:[],league:null,self:null,selfData:null,bearerToken:"",ranking:null,marketValueComparisonPlayer:null,defaults:{offerThreshold:.6,offerOrder:"newest",generalPlayerCardShowAlwaysAllDetails:!1,offerOpenPlayerNotOnMarketPanel:!0,offerOpenPlayerWithoutAnyOfferPanel:!1,offerShowTooLowOffersOnly:!1,transfermarketExpiryDateFadeEffect:!0,transfermarketExpiryDisplayType:"relative",offerOrders:{oldest:"oldest first",newest:"newest first"}},offerThreshold:null,generalPlayerCardShowAlwaysAllDetails:!1,offerShowTooLowOffersOnly:!1,offerOpenPlayerNotOnMarketPanel:!1,offerOpenPlayerWithoutAnyOfferPanel:!1,transfermarketExpiryDateFadeEffect:!1,transfermarketExpiryDisplayType:null,offerOrder:{init:null,temporary:null}},getters:ge,mutations:at,actions:rt});var lt=it;const nt=(e,t)=>{let a=null;return e&&e.length&&t&&e.forEach((e=>{e.t1&&e.t1.i===t.teamId?a={abbr:e.t2.s,name:e.t2.n,id:e.t2.i,img:dt(e.t2.i)}:e.t2&&e.t2.i===t.teamId&&(a={abbr:e.t1.s,name:e.t1.n,id:e.t1.i,img:dt(e.t1.i)})})),a},ot=e=>{let t="";switch(e){case 1:t="goalkeeper";break;case 2:t="defender";break;case 3:t="midfielder";break;case 4:t="forward";break}return t},dt=e=>window.location.origin+"/kickbase-plus//assets/teams/"+e+".png",ct=e=>new Promise((t=>setTimeout(t,e))),ut=(e,t)=>e.price-t,ft=(e,t)=>{const a=ut(t,e.marketValue);return Number.parseFloat(a/e.marketValue*100).toPrecision(2)},ht=(e,t,a)=>ft(e,t)>=a,pt=e=>{const t=P()(e.validUntilDate);return t.isBefore()},gt=e=>lt.getters.getPlayers[e]&&lt.getters.getPlayers[e].marketValues&&lt.getters.getPlayers[e].marketValues.length&&lt.getters.getPlayers[e].marketValues[lt.getters.getPlayers[e].marketValues.length-1]&&lt.getters.getPlayers[e].marketValues[lt.getters.getPlayers[e].marketValues.length-2]?lt.getters.getPlayers[e].marketValues[lt.getters.getPlayers[e].marketValues.length-1].m-lt.getters.getPlayers[e].marketValues[lt.getters.getPlayers[e].marketValues.length-2].m:null,mt=async e=>{lt.commit("addLoadingMessage","checking the statistics of the players and loading them if necessary");let t=!1;if(null===lt.getters.getMarketValueComparisonPlayer)t=!0;else if(lt.getters.getMarketValueComparisonPlayer){const e=await _t.loadPlayersStats(lt.getters.getMarketValueComparisonPlayer.id,!0);e.marketValue!==lt.getters.getMarketValueComparisonPlayer.marketValue&&(t=!0)}const a=lt.getters.getPlayers;for(let l=0;l<e.length;l++)!0!==t&&a[e[l]]||await _t.loadPlayersStats(e[l]);let s=null;const r=lt.getters.getPlayersOfUser,i=Object.keys(r);i.length&&i.forEach((e=>{if(r[e]){const t=r[e];(null===s||s&&s.marketValue<t.marketValue)&&(s=t)}})),s&&lt.commit("setMarketValueComparison",s)};T().interceptors.response.use((function(e){return e}),(function(e){return e.response&&403===e.response.status&&(localStorage.removeItem(me.LOCALSTORAGE.BEARER_TOKEN),localStorage.removeItem(me.LOCALSTORAGE.BEARER_TOKEN_EXPIRATION),window.location.reload()),Promise.reject(e)}));const yt={requestStack:{},getToken(){return"Bearer "+localStorage.getItem(me.LOCALSTORAGE.BEARER_TOKEN)},checkForCredentials(){return!(!localStorage.getItem("user")||!localStorage.getItem("password")||""===localStorage.getItem("user")||""===localStorage.getItem("password"))},async loadMatchDay(e){await T()({url:"https://api.kickbase.com/v2/competitions/1/matches?matchDay="+e,method:"GET",data:{}}).then((e=>{e.data&&e.data.day&&lt.commit("addMatchDay",{day:e.data.day,data:e.data})}))},async loadClubs(){await T()({url:"https://api.kickbase.com/v2/competitions/1/overview",method:"GET",data:{}}).then((async e=>{if(200===e.status&&e.data&&e.data.day){const t={no:e.data.day,ts:e.data.d,nts:P()(e.data.d),countdown:e.data.m&&e.data.m.ttm?e.data.m.ttm:null};let a=[];await T()({url:"https://api.kickbase.com/v2/competitions/1/matches?",method:"GET",data:{}}).then((e=>{e.data&&e.data.day===t.no&&(t.matches=e.data.e,lt.commit("setNextMatchDay",t),e.data.e&&e.data.e.length&&(e.data.e.forEach((e=>{e.t1&&a.push(e.t1),e.t2&&a.push(e.t2)})),a=a.sort(((e,t)=>e.n>t.n?1:e.n<t.n?-1:0)),lt.commit("setTeams",a)))}))}}))},async checkBonusState(){lt.commit("addLoadingMessage","checking daily bonus"),await T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/currentgift",method:"GET",data:{}}).then((e=>{if(200===e.status)if(e.data){if(0!==e.data.amount)lt.commit("setGiftLevel",e.data.level),lt.commit("setGiftBonus",e.data.amount),localStorage.setItem(me.LOCALSTORAGE.GIFT_DATA,JSON.stringify({level:e.data.level,amount:e.data.amount}));else{let e=localStorage.getItem(me.LOCALSTORAGE.GIFT_DATA),t=!1;e&&(e=JSON.parse(e),e&&e.level&&(lt.commit("setGiftLevel",e.level),lt.commit("setGiftBonus",e.amount),t=!0)),!1===t&&lt.commit("setGiftLevel","collected")}e.data.isAvailable?T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/collectgift",method:"POST",data:{}}).then((e=>{200===e.status?e.data&&0===e.data.err?lt.commit("setFetchedGift",!0):lt.commit("setFetchedGift",!1):lt.commit("setErrorMessage","could not find token data")})):lt.commit("setFetchedGift",!0)}else lt.commit("setErrorMessage","could not find token data")})).catch((function(){let e=localStorage.getItem(me.LOCALSTORAGE.GIFT_DATA),t=!1;e&&(e=JSON.parse(e),e&&e.level&&(lt.commit("setGiftLevel",e.level),lt.commit("setGiftBonus",e.amount),t=!0)),!1===t&&lt.commit("setGiftLevel","collected")}))},login(){T()({url:"https://api.kickbase.com/user/login",method:"POST",data:{email:localStorage.getItem("user"),password:localStorage.getItem("password"),ext:!0}}).then((e=>{200===e.status&&(e.data.token&&e.data.tokenExp?(localStorage.setItem(me.LOCALSTORAGE.BEARER_TOKEN,e.data.token),localStorage.setItem(me.LOCALSTORAGE.BEARER_TOKEN_EXPIRATION,e.data.tokenExp),lt.commit("setLoading",!0),window.location.reload()):lt.commit("setErrorMessage","could not find token data"))})).catch((function(){lt.commit("setErrorMessage","login issues")}))},async loadRanking(e){T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/stats",method:"GET"}).then((t=>{200===t.status&&t.data&&t.data.users&&t.data.matchDays&&(lt.commit("setRanking",t.data),"function"===typeof e&&e())})).catch((function(){lt.commit("addErrorLoadingMessage","could not fetch ranking"),lt.commit("setErrorMessage","could not fetch ranking")}))},async loadPersonalData(e,t=!0){t&&(lt.commit("setLoading",!0),lt.commit("addLoadingMessage","loading personal data. please wait")),await T()({url:"https://api.kickbase.com/user/settings",method:"GET"}).then((t=>{200===t.status&&t.data&&t.data.user&&t.data.user.id&&(lt.commit("setSelfData",t.data.user),lt.commit("setSelf",1*t.data.user.id),"function"===typeof e&&e())})).catch((function(){t&&(lt.commit("addErrorLoadingMessage","could not fetch user data"),lt.commit("setErrorMessage","could not fetch user data"))}))},async loadLeagues(){lt.commit("setLoading",!0),lt.commit("addLoadingMessage","loading leagues. please wait"),await T()({url:"https://api.kickbase.com/leagues?ext=true",method:"GET"}).then((e=>{if(200===e.status&&(lt.commit("addLoadingMessage","player's league successfully fetched"),e.data&&e.data.leagues&&e.data.leagues.length)){lt.commit("setLeagues",e.data.leagues);let t=null;localStorage.getItem("league")&&e.data.leagues.forEach((e=>{e.id===localStorage.getItem("league")&&(lt.commit("setLeague",e.id),t=e)})),null===t&&(t=e.data.leagues[0],localStorage.setItem("league",t.id),lt.commit("setLeague",t.id)),lt.commit("addLoadingMessage","set league: "+t.name)}})).catch((function(){lt.commit("addErrorLoadingMessage","could not fetch player's leagues"),lt.commit("setErrorMessage","could not fetch player's leagues")}))},async loadUsersPlayerOffers(){return lt.commit("addLoadingMessage","loading market offers"),await T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/market",method:"GET"}).then((async e=>{if(200===e.status)return lt.commit("addLoadingMessage","offers successfully fetched ... please wait"),e.data})).catch((function(){lt.commit("addErrorLoadingMessage","could not fetch player's offers"),lt.commit("setErrorMessage","could not fetch player's offers")}))},async loadBids(e,t){await T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/market",method:"GET"}).then((async a=>{if(200===a.status){const s=a.data.players;s.sort(((e,t)=>e.expiry>t.expiry?1:-1));const r=[];if(s.forEach((e=>{let t=!0;1*e.userId===lt.getters.getSelf&&(t=!1),t&&r.push(e)})),e){const e=[];for(const t of r)t.userId||e.push(t.id);await mt(e)}lt.commit("setBids",r),"function"===typeof t&&t()}})).catch((function(){lt.commit("setErrorMessage","could not fetch transfer market")})).finally((function(){}))},async loadPlayersPoints(e){const t="p"+e,a=new AbortController;return this.requestStack[t]&&this.requestStack[t].abort(),this.requestStack[t]=a,await T()({signal:a.signal,url:"https://api.kickbase.com/players/"+e+"/points",method:"GET"}).then((e=>{if(200===e.status)return e.data})).catch((function(){})).finally((()=>{this.requestStack[t]&&delete this.requestStack[t]}))},async loadPlayersStats(e,t=!1){const a=new AbortController;return this.requestStack[e]&&this.requestStack[e].abort(),this.requestStack[e]=a,await T()({signal:a.signal,url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/players/"+e+"/stats",method:"GET"}).then((e=>{if(200===e.status){if(!0===t)return e.data;lt.commit("addPlayer",e.data)}})).catch((function(){})).finally((()=>{this.requestStack[e]&&delete this.requestStack[e]}))},async loadUsersStats(e=!1){lt.commit("addLoadingMessage","loading details of user"),await T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/users/"+lt.getters.getSelf+"/profile",method:"GET"}).then((async t=>{if(t.data){!0===e&&await yt.loadUsers(e);const a=Object.assign(lt.getters.getUsersDetails,t.data);lt.commit("addUser",a),await yt.loadUsersPlayers(a.id,!0)}})).catch((function(){lt.commit("setErrorMessage","could not fetch own profile")}))},async loadUsers(e=!1){lt.commit("addLoadingMessage","getting league's stats"),await T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/stats",method:"GET"}).then((async t=>{if(200===t.status&&t.data&&t.data.users&&t.data.users.length)for(let a=0;a<t.data.users.length;a++){const s=t.data.users[a];lt.commit("addUser",s),!1===e&&await yt.loadUsersPlayers(s.id,!1)}})).catch((function(){lt.commit("setErrorMessage","could not fetch league stats")}))},saveLineup(e,t,a){T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/lineup",method:"POST",data:e}).then((e=>{200===e.status&&0===e.data.err?t(e.data):lt.commit("setErrorMessage","could not save lineup")})).catch((function(){a(),lt.commit("setErrorMessage","could not save lineup")}))},loadLineup(e){T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/lineupex",method:"GET"}).then((t=>{200===t.status&&e(t.data)})).catch((function(){lt.commit("setErrorMessage","could not fetch lineup")}))},async loadNextTwoMatchDays(){const e=lt.getters.getNextMatchDay,t=[];if(e.no){t.push({m:e.matches,md:e.no,d:e.no}),lt.commit("addLoadingMessage","loading next matchdays for stats");const a=[e.no+1,e.no+2];for(let e=0;e<a.length;e++)if(a[e]<=34){const s=await T()({url:"https://api.kickbase.com/v2/competitions/1/matches?matchDay="+a[e],method:"GET"}).then((async e=>{if(e.data&&e.data.e&&e.data.e.length)return e.data})).catch((function(){}));s.nd&&t.push({d:s.day,m:s.e,md:s.day})}}t.length&&lt.commit("setNextThreeMatchDays",t)},async loadMatches(e){let t="";e&&(t="?matchDay="+e),lt.commit("addLoadingMessage","loading next matchday"),await T()({url:"https://api.kickbase.com/v2/competitions/1/matches"+t,method:"GET"}).then((async e=>{if(e.data&&e.data.e&&e.data.e.length){const t=e.data.e[e.data.e.length-1];if(!0===P()(t.d).isSameOrAfter(new Date,"day")){const t=lt.getters.getNextMatchDay,a=Object.assign(t,{no:e.data.day,ts:e.data.e[0].d,nts:P()(e.data.e[0].d),matches:e.data.e}),s=e.data.e.map((t=>(t.md=e.data.day,t)));lt.commit("setMatches",s),lt.commit("setNextMatchDay",a)}else{const t=e.data.day+1;t<=34&&await yt.loadMatches(t)}}})).catch((function(){lt.commit("setErrorMessage","could not fetch matchday")}))},async loadFeed(e){await T()({url:"https://api.kickbase.com/v2/leagues/"+lt.getters.getLeague+"/feed",method:"GET",params:{start:0,filter:"3,5,13,15,16,17"}}).then((async t=>{200===t.status&&await e(t.data)})).catch((function(){lt.commit("setErrorMessage","could not fetch feed")})).finally((function(){}))},async loadUsersLineup(e){const t=e;await T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/users/"+t+"/lineup",method:"GET"}).then((async e=>{200===e.status&&lt.commit("addUsersLineup",{user:t,data:e.data})}))},async loadUsersPlayers(e,t=!0){const a=e;lt.commit("addLoadingMessage","loading players and lineup of user #"+a),await T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/users/"+a+"/players",method:"GET"}).then((async e=>{if(200===e.status&&(lt.commit("addUsersPlayer",{user:a,players:e.data.players}),!0===t)){const t=[];for(let a=0;a<e.data.players.length;a++)t.push(e.data.players[a].id);await yt.loadUsersLineup(a),await mt(t)}}))},loadGlobalLiveData(e){T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/live",method:"GET"}).then((t=>{200===t.status&&(t.data&&lt.commit("setLiveData",t.data),"function"===typeof e&&e())}))},sendBid(e,t,a,s,r){const i=a,l=()=>T().post("https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/market/"+e+"/offers",{price:t}),n=[l()];!0===s&&(n.push(l()),n.push(l())),T().all(n).then(T().spread(((...e)=>{const t=e[0];200===t.status&&"function"===typeof i&&i(t.data)}))).catch((e=>{console.warn(e),e.response&&e.response.data&&(5060===e.response.data.err&&lt.commit("setErrorMessage","offer too low"),5050===e.response.data.err&&lt.commit("setErrorMessage","you reached your financial limit (max. 33% debt of your team's market value)"),5030===e.response.data.err&&lt.commit("setErrorMessage","You have reached the limit for players per team (max. "+lt.getters.getSelectedLeague.pl+" players)"),5070===e.response.data.err&&lt.commit("setErrorMessage","You have reached the limit for players of this Bundesliga team (max. "+lt.getters.getSelectedLeague.mpst+" players)")),"function"===typeof r&&r()}))},async revokeBid(e,t,a){const s=a;await T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/market/"+e+"/offers/"+t,method:"DELETE"}).then((async e=>{200===e.status&&"function"===typeof s&&await s(e.data)}))},async putOnMarket(e,t){lt.commit("addLoadingMessage",'trying to put player "'+e.lastName+'" on market');const a=t;let s=e.marketValue+"";await T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/market",method:"POST",data:{playerId:e.id,price:s}}).then((async e=>{200===e.status&&(lt.commit("addLoadingMessage","player successfully put on market"),"function"===typeof a&&await a(e))})).catch((t=>{console.warn(t),lt.commit("addErrorLoadingMessage","error occured during putting player on market. lets try it again"),yt.putOnMarket(e,a)}))},async removePlayerFromMarket(e,t){lt.commit("addLoadingMessage",'removing player "'+e.lastName+'" from market');const a=t;T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/market/"+e.id,method:"DELETE"}).then((t=>{200===t.status&&"function"===typeof a&&(lt.commit("addLoadingMessage",'removed player "'+e.lastName+'" from market'),a(t.data))})).catch((function(){lt.commit("setErrorMessage","could not remove player from market")}))},async setPlayerOnMarketAgain(e){lt.commit("setLoading",!0),await yt.removePlayerFromMarket(e),await ct(500),await yt.putOnMarket(e)},acceptBids(e,t){T()({url:"https://api.kickbase.com/leagues/"+lt.getters.getLeague+"/market/"+e.playerId+"/offers/"+e.offerId+"/accept",method:"POST"}).then((e=>{200===e.status&&"function"===typeof t&&t()}))}};T().defaults.headers.common["Authorization"]=yt.getToken();var _t=yt,vt=a(7179),bt=a(3058),kt=a(5223),wt=a(9789),Ot=a(3243),Ct=a(864),xt=function(){var e=this,t=e._self._c;return t("div",[t(wt.Z,{attrs:{width:"500",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(bt.Z,[t(kt.EB,{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v(" Login ")]),t(kt.ZB,[t(n.Z,{attrs:{"grid-list-md":""}},[t(c.Z,{attrs:{wrap:""}},[t(Ot.Z,{attrs:{xs12:""}},[t(Ct.Z,{attrs:{label:"username",required:""},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}})],1),t(Ot.Z,{attrs:{xs12:""}},[t(Ct.Z,{attrs:{label:"password*",type:"password",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)],1)],1),t(kt.h7,[t(k.Z),t(vt.Z,{attrs:{color:"info darken-1",large:"",loading:e.loading},on:{click:e.login}},[e._v("Login")])],1)],1)],1)],1)},St=[],Pt={name:"Login-Dialog",data(){return{dialog:!0,user:null,password:null,loading:!1,errorMessage:null}},mounted(){_t.checkForCredentials(),this.user=localStorage.getItem("user")},computed:{...(0,x.Se)(["getAuthStatus"])},methods:{...(0,x.OI)(["setErrorMessage"]),login(){localStorage.setItem("user",this.user),localStorage.setItem("password",this.password),_t.checkForCredentials()?_t.login():this.setErrorMessage("issue with login: please check credentials")}}},Dt=Pt,Et=a(1001),Lt=(0,Et.Z)(Dt,xt,St,!1,null,null,null),Tt=Lt.exports;E().locale("deff");var At={name:"App",components:{LoginDialog:Tt},props:{source:String},data:()=>({drawer:null,snackMessage:null,showSnack:!1}),created:function(){this.$store.watch((e=>e.errorMessage),(()=>{const e=this.$store.state.errorMessage;""!==e&&(this.showSnack=!0,this.snackMessage=e,this.setErrorMessage(""))}))},mounted(){localStorage.getItem("password")&&localStorage.removeItem("password"),this.hasUser&&this.initLoading(),this.initDarkMode()},computed:{...(0,x.Se)(["getAuthData","getErrorMessage","getLoading","getFetchedGift","getGiftBonus","getBids","getGiftLevel","getLoadingMessages","getUsersDetails","getSelf","getLeagues","getLeague","getDefaults"]),hasUser(){const e=P()();if(this.getAuthData.user||localStorage.getItem("token")&&localStorage.getItem("tokenExp")){const t=P()(localStorage.getItem("tokenExp"));if(t>e)return!0}return!1},getPlayersDetails(){let e="";return this.getUsersDetails&&this.getUsersDetails.budget&&(e+="Budget: "+E()(this.getUsersDetails.budget).format("0,0"),e+="&nbsp; / Team: "+E()(this.getUsersDetails.teamValue).format("0,0")),this.getBids&&this.getUsersDetails&&(e+="<br>Bids: "+E()(this.getPlayerBidsSum).format("0,0")),this.getUsersDetails&&this.getUsersDetails.budget&&(e+="&nbsp;/ Transfers: "+((this.getUsersDetails.bought||0)+(this.getUsersDetails.sold||0)),this.getUsersDetails.players&&this.getUsersDetails.players.length&&(e+=' / <span class="d-none d-sm-none d-md-inline-block">Players</span><span class="d-inline-block d-md-none">Ply</span>: '+this.getUsersDetails.players.length)),e},getPlayerBidsSum(){let e=0;return this.getBids&&this.getBids.length&&this.getBids.forEach((t=>{t.offers&&t.offers.length&&t.offers.forEach((t=>{1*t.userId===this.getSelf&&(e+=1*t.price)}))})),e},selectedLeague(){let e=null;if(this.getLeagues&&this.getLeagues.length&&this.getLeague){const t=this.getLeagues.filter((e=>e.id===this.getLeague));1===t.length&&(e=t[0])}return e},leagueName(){return this.selectedLeague?this.selectedLeague.name:null},version(){return"1.7.2"}},methods:{...(0,x.OI)(["setErrorMessage","setLoading","setOfferThreshold"]),...(0,x.nv)(["setAsInitialized"]),initDarkMode(){const e=window.matchMedia("(prefers-color-scheme: dark)");e.addEventListener("change",(()=>{this.$vuetify.theme.dark=!this.$vuetify.theme.dark})),e.matches&&setTimeout((()=>this.$vuetify.theme.dark=!0),0)},doLogout(){this.setLoading(!0),localStorage.removeItem("token"),localStorage.removeItem("tokenExp"),localStorage.removeItem("league"),window.location.reload()},async initLoading(){if(this.setLoading(!0),await _t.loadClubs(),await _t.loadPersonalData(),await _t.loadLeagues(),await _t.checkBonusState(),await _t.loadUsers(),await _t.loadUsersStats(),await _t.loadMatches(),this.getLeagues.length)for(let e=1;e<=this.getLeagues[0].pl;e++)await _t.loadMatchDay(e);await _t.loadNextTwoMatchDays(),this.setLoading(!1),this.setAsInitialized()}}},Mt=At,Zt=(0,Et.Z)(Mt,O,C,!1,null,null,null),Nt=Zt.exports,It=a(2250);s.ZP.use(It.Z);var Bt=new It.Z({icons:{iconfont:"fa"}}),jt=a(9339),Ft=a(8051),Vt=a.n(Ft),Rt=a(8345),Ut=a(8819),Gt=a(2776),Wt=a(8228),zt=a(5617),$t=function(){var e=this,t=e._self._c;return t(n.Z,[t("h2",[e._v("selected League:")]),e.getSelectedLeague?t("div",[t("table",{staticClass:"tbl"},[t("tr",[t("th",{staticClass:"pa-2 blue-grey lighten-3 text-left"},[e._v("Name:")]),t("td",{staticClass:"pa-2 blue-grey darken-1 white--text text-left"},[e._v(e._s(e.getSelectedLeague.name))])]),t("tr",[t("th",{staticClass:"pa-2 blue-grey lighten-3 text-left"},[e._v("created by:")]),t("td",{staticClass:"pa-2 blue-grey darken-1 white--text text-left"},[e._v(e._s(e.getSelectedLeague.creator))])]),t("tr",[t("th",{staticClass:"pa-2 blue-grey lighten-3 text-left"},[e._v("users:")]),t("td",{staticClass:"pa-2 blue-grey darken-1 white--text text-left"},[e._v(e._s(e.getSelectedLeague.au))])]),t("tr",[t("th",{staticClass:"pa-2 blue-grey lighten-3 text-left"},[e._v("max players per user team:")]),t("td",{staticClass:"pa-2 blue-grey darken-1 white--text text-left"},[e._v(e._s(e.getSelectedLeague.pl||"unlimited"))])]),t("tr",[t("th",{staticClass:"pa-2 blue-grey lighten-3 text-left"},[e._v("max players of a league team:")]),t("td",{staticClass:"pa-2 blue-grey darken-1 white--text text-left"},[e._v(e._s(e.getSelectedLeague.mpst||"unlimited"))])])])]):e._e(),t("br"),t(o.Z),t("br"),t("h2",[e._v("your Leagues:")]),t(u.Z,[t(Gt.Z,{attrs:{color:"primary"},model:{value:e.activeLeague,callback:function(t){e.activeLeague=t},expression:"activeLeague"}},e._l(e.getLeagues,(function(a,s){return t(f.Z,{key:s,on:{click:function(t){return e.setLeague(a)}}},[a.ci?t(Wt.Z,{staticClass:"mr-5"},[t(Ut.Z,[t("img",{attrs:{src:a.ci}})])],1):e._e(),t(p.km,[t(p.V9,[t("span",{domProps:{textContent:e._s(a.name)}})])],1)],1)})),1)],1),t("br"),t(o.Z),t("br"),t(zt.Z,{attrs:{name:"bearer",label:"Bearer Token",value:e.getToken,disabled:""}})],1)},qt=[],Kt={name:"home-view",data:()=>({}),computed:{...(0,x.Se)(["getBearerToken","getLeagues","getLeague","getSelectedLeague"]),getToken(){return _t.getToken()},activeLeague(){let e=null;return this.getLeagues&&this.getLeagues.length&&this.getLeague&&this.getLeagues.forEach(((t,a)=>{t.id===this.getLeague&&(e=a)})),e}},methods:{...(0,x.OI)(["setLoading","setLoadingMessages"]),setLeague(e){this.setLoadingMessages([]),this.setLoading(!0),localStorage.setItem("league",e.id),window.location.reload()}}},Ht=Kt,Yt=(0,Et.Z)(Ht,$t,qt,!1,null,null,null),Xt=Yt.exports,Jt=a(2202),Qt=a(2469),ea=a(7668),ta=a(6660),aa=function(){var e=this,t=e._self._c;return t("div",{staticClass:"full-width-container full-width-container--with-options-bar"},[t("options-bar",{attrs:{"info-button-title":"your defaults"},scopedSlots:e._u([{key:"content",fn:function(){return[t("reload-button",{attrs:{loading:e.loading,color:"transparent","extra-classes":"desktop"},nativeOn:{click:function(t){return e.load.apply(null,arguments)}}}),!1===e.loading?t("div",[t(Ct.Z,{attrs:{label:"Search for player at current market","prepend-icon":"fa-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(ea.Z,{attrs:{items:e.positions,label:"Position filter",dense:"",outlined:"","hide-details":"true"},model:{value:e.selectedFilteredPosition,callback:function(t){e.selectedFilteredPosition=t},expression:"selectedFilteredPosition"}}),t(ea.Z,{staticClass:"mt-2",attrs:{items:e.expertFiltersOptions,"menu-props":{maxHeight:"500"},label:"Expert filters",outlined:"",multiple:"",chips:"",hint:"Select one or more expert filters to limit the list","persistent-hint":""},model:{value:e.expertFilters,callback:function(t){e.expertFilters=t},expression:"expertFilters"}}),t(ea.Z,{staticClass:"mt-2",attrs:{items:e.getTeams,"menu-props":{maxHeight:"400"},label:"Bundesliga Club",outlined:"",multiple:"",chips:"",hint:"Select one or more clubs","persistent-hint":"","return-object":"","item-value":"i"},scopedSlots:e._u([{key:"selection",fn:function({item:a}){return[t(Qt.Z,{staticClass:"mr-3",attrs:{"max-width":"24","max-height":"24",src:e.clubImage(a.i)}}),e._v(" "+e._s(a.n)+" ")]}},{key:"item",fn:function({item:a}){return[t(Qt.Z,{staticClass:"mr-3",attrs:{"max-width":"24","max-height":"24",src:e.clubImage(a.i)}}),e._v(" "+e._s(a.n)+" ")]}}],null,!1,3751306236),model:{value:e.filteredTeams,callback:function(t){e.filteredTeams=t},expression:"filteredTeams"}}),t(ta.Z,{attrs:{label:"Show all player (of all league members)"},model:{value:e.showOtherUsersPlayer,callback:function(t){e.showOtherUsersPlayer=t},expression:"showOtherUsersPlayer"}}),t(o.Z,{staticClass:"mt-3 mb-6"}),t(ea.Z,{attrs:{items:e.orderOptions,label:"Sort order",outlined:"","hide-details":!0},model:{value:e.order,callback:function(t){e.order=t},expression:"order"}})],1):e._e()]},proxy:!0},{key:"other-buttons",fn:function(){return[t("reload-button",{attrs:{loading:e.loading,large:!0},nativeOn:{click:function(t){return e.load.apply(null,arguments)}}})]},proxy:!0}])}),!1===e.loading?t("div",{staticClass:"flex-grow-1 options-bar__sibling"},[t(Jt.Z,{staticClass:"mb-5 text-body-2",attrs:{color:e.alertColor,dark:"",text:""}},[t("strong",{staticClass:"text-h6 font-weight-black"},[e._v(e._s(e.playersLeft))]),e._v(" free spots in your team / "+e._s(e.getFilteredPlayers.length)+" players match your criteria (out of a total of "+e._s(e.getComputedBids.length)+" players on the TM) ")]),e.hasActiveFilters?t(Jt.Z,{staticStyle:{cursor:"pointer"},attrs:{type:"info",dark:"",text:""},on:{click:e.resetFilters}},[e._v(" you have active filters. "),t("u",[e._v("reset filters")])]):e._e(),t(Ct.Z,{staticClass:"hidden-md-and-up",attrs:{label:"Search for player at current market","prepend-icon":"fa-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e.getFilteredPlayers.length?t("div",e._l(e.getFilteredPlayers,(function(e){return t("bid-row",{key:e.id,attrs:{player:e}})})),1):t(Jt.Z,{attrs:{type:"info",text:""}},[e._v(" no player matched your criteria. please check your filters ")])],1):t("div",{staticClass:"flex-grow-1 options-bar__sibling"},[t("loading-spinner")],1)],1)},sa=[],ra=a(8714),ia=a(6487),la=a(1911),na=a(6904),oa=a(4397),da=function(){var e=this,t=e._self._c;return t("player-card",{staticClass:"bid-row",class:{"own-bid":e.player.hasOwnBid,"no-bid":e.player.hasNoBid,only:e.player.hasOnlySelfBid},attrs:{player:e.player,"show-purchase-statistic":!1},scopedSlots:e._u([{key:"pre-meta",fn:function(){return[t(Jt.Z,{staticClass:"expiry-info",staticStyle:{cursor:"pointer"},attrs:{text:"",color:e.isDarkTheme?"deep-purple lighten-3":"deep-purple darken-4",icon:"fa-clock"},on:{click:e.toggleExpiryAsDateTime}},[t("transition",{attrs:{name:"fade"}},[!0===e.expiryAsDateTime?t("span",[e._v(e._s(e.expiryDateAsDateTime))]):e._e()]),t("transition",{attrs:{name:"fade"}},[!1===e.expiryAsDateTime?t("span",[e._v(e._s(e.expiryDate))]):e._e()]),!1===e.expiryAsDateTime?t("div",{staticClass:"expiry-info__shadow-info"},[e._v(e._s(e.expiryDate))]):e._e(),!0===e.expiryAsDateTime?t("div",{staticClass:"expiry-info__shadow-info"},[e._v(e._s(e.expiryDateAsDateTime))]):e._e()],1)]},proxy:!0},e.player.offers&&e.player.offers.length&&!1===e.player.hasOnlySelfBid?{key:"extra-expansion-panel",fn:function(){return[t(ra.Z,[t(la.Z,{staticClass:"elevation-0"},[t(d.Z,{staticClass:"mr-2 player-card-accordion__icon",attrs:{color:"green darken-1"}},[e._v("fa-money-bill-wave")]),t("strong",[e._v(e._s(e.player.offers.length))]),e._v(" user bid on this player ")],1),t(ia.Z,[t(oa.Z,{staticClass:"mb-5 bid-table"},[[t("tbody",[t("tr",[t("th",[e._v(" Name ")]),t("th",[e._v(" Details ")])]),e._l(e.sortedOffers,(function(a,s){return t("tr",{key:s,class:{foo:a.isSelf}},[t("td",[a.userName?t("span",[e._v(e._s(a.userName))]):t("span",[e._v("KICKBASE")]),e._v(": ")]),t("td",[a.userId!=e.getSelf?t("span",[e._v(" "+e._s(e.getDate(a.date))+" "),t("small",[e._v(" / has "+e._s(e.getUsersPlayers(a.userId))+" players")])]):t("span",[e._v(" "+e._s(e._f("numeral")(a.price,"0,0 $"))+" ")])])])}))],2)]],2)],1)],1)]},proxy:!0}:null],null,!0)},[t(na.Z,{staticClass:"playerBidForm mt-5 mb-4",on:{submit:function(t){return t.preventDefault(),e.dummySubmit.apply(null,arguments)}}},[t("div",{staticClass:"d-sm-flex d-block"},[t("div",{staticClass:"bid-input-container mr-5"},[t("vue-numeric-input",{attrs:{initialNumber:e.bidValue,"has-bid":null!==e.playerBid,"reset-call":e.resetCall,min:1,align:"center",mousewheel:!1,placeholder:e.inputPlaceholder},on:{input:e.setInputValue,"input-reset":e.inputReset,submit:e.setInputValue,preview:e.preview}}),t("saved-alert",{attrs:{value:e.showSavedAlert,message:"saved bid for player"}})],1),t("div",{staticClass:"bid-input-container"},[t("div",{staticClass:"text-caption"},["no bid"!==e.getComputedBid?t("span",[e._v(" you "),e.previewValue&&!e.getValidBidNumber?t("span",{staticClass:"font-italic"},[e._v("would")]):e._e(),e._v(" bid "),t("strong",[e._v(e._s(e.getComputedDifference.number))]),e._v(" Euros"+e._s(e.getComputedDifferenceWording)+" ("),t("span",{class:{"text--green":e.getComputedDifference.number<=0,"text--red":e.getComputedDifference.number>0}},[e._v(e._s(e.getComputedDifference.percentage)+" %")]),e._v(") ")]):e._e()])])])]),e.player.hasOwnBid?t(vt.Z,{staticClass:"kp-button kp-button__decline mb-5",attrs:{block:"","x-large":""},on:{click:e.revokeBid}},[e._v(" revoke own bid ("+e._s(e.getComputedBid)+") ")]):e._e(),t("div",{staticClass:"mb-5"},[t("h3",{staticClass:"text-subtitle-1"},[e._v("Bid-Buttons:")]),t("div",{staticClass:"bids-button-row"},e._l(e.bidButtons,(function(a){return t(vt.Z,{key:a,attrs:{dense:"",outlined:""},on:{click:function(t){return e.sendPercentageBid(a)}}},[t("span",{domProps:{innerHTML:e._s(e.getButtonLabel(a))}})])})),1)])],1)},ca=[],ua=a(1296),fa=a.n(ua),ha=a(5408),pa=a(1133),ga=a(5294),ma=function(){var e=this,t=e._self._c;return t(bt.Z,{staticClass:"elevation-6 pa-4 mt-5 player-card"},[e.hasPreHeadSlot?t("div",{staticClass:"player-card__pre-head"},[t("div",{staticClass:"player-card__pre-head__content"},[e._t("pre-head")],2)]):e._e(),t("div",{staticClass:"player-card-content-wrapper"},[!1===e.hideMeta?t("div",{staticClass:"player-card-meta",style:{width:e.playerMetaWidth}},[t("div",{staticClass:"player-card-meta__content"},[e._t("pre-meta"),t("div",{staticClass:"player-card__image"},[t(Qt.Z,{staticClass:"player-card__team-image",attrs:{src:e.teamImage,"aspect-ratio":"1"}}),t(Qt.Z,{staticClass:"hidden-xs-only player-card__player-image",attrs:{src:e.getPlayerImage,"aspect-ratio":"1"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[t(ga.Z,{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[t(d.Z,{attrs:{size:"128"}},[e._v(" fa-user-alt ")])],1)]},proxy:!0}],null,!1,753505098)})],1),!1===e.hidePlayerStatus?t("div",{staticClass:"player-card-meta__item"},[t("status-pill",{attrs:{player:e.player}})],1):e._e(),!1===e.hidePlayerMarketValue?t("div",{staticClass:"player-card-meta__item player-card-meta__item--sm-fourth"},[t(Jt.Z,{staticClass:"mb-0",attrs:{type:"info",dense:"",text:"",icon:"fa-euro-sign"}},[e._v(" "+e._s(e.getComputedPrice)+" (MV) ")])],1):e._e(),t("div",{staticClass:"player-card-meta__item player-card-meta__item--sm-third"},[t(Jt.Z,{staticClass:"mt-0",attrs:{color:e.getGrowthColor,dense:"",text:"",icon:e.getGrowthIcon}},[e._v(e._s(e._f("numeral")(e.getDiffMV,"0,0 $"))+" "),e.getDiffMV>0?t("span",[e._v("(growth)")]):e._e(),e.getDiffMV<0?t("span",[e._v("(shrinkage)")]):e._e()])],1),!1===e.hidePlayerPoints?t("div",{staticClass:"player-card-meta__item player-card-meta__item--sm-fifth"},[t(Jt.Z,{attrs:{color:e.genericInfoFieldColor,dense:"",text:"",icon:"fa-poll"}},[e._v(" â "+e._s(e.player.averagePoints)+" / "+e._s(e.player.totalPoints)+" ")])],1):e._e(),e.nextMatchComputed&&e.nextMatchComputed.img?t("div",{staticClass:"player-card-meta__item player-card-meta__item--sm-fifth"},[t(Jt.Z,{attrs:{color:e.nextGameColor,dense:"",text:"",icon:"fa-beer"}},[t("div",{staticClass:"d-flex align-center text-left"},[t("span",{staticClass:"mr-2"},[e._v("VS")]),t(Qt.Z,{staticClass:"flex-grow-0 mr-1",attrs:{height:"24",width:"24",contain:"","aspect-ratio":"1",src:e.nextMatchComputed.img}}),t("span",{staticClass:"text-caption"},[e._v(e._s(e.nextMatchComputed.abbr))])],1)])],1):e._e(),!1===e.hidePlayerPosition?t("div",{staticClass:"player-card-meta__item player-card-meta__item--sm-fifth"},[t(Jt.Z,{attrs:{color:e.genericInfoFieldColor,dense:"",text:"",icon:"fa-futbol"}},[e._v(e._s(e.getPosition))])],1):e._e()],2)]):e._e(),t("div",{ref:"playerCardContent",staticClass:"player-card-slot"},[t("div",{staticClass:"player-card-head"},[t("h2",{staticClass:"text-h5 text-sm-h4 mb-3 font-weight-bold"},[e.player.knownName?t("span",[e._v(e._s(e.player.knownName))]):t("span",[e._v(e._s(e.player.firstName)+" "+e._s(e.player.lastName))]),t("span",{staticClass:"hidden-xs-only caption"},[e._v("(#"+e._s(e.player.id)+")")])])]),e._t("default"),t("div",{class:e.statsCssClass},[t(pa.Z,{staticClass:"elevation-1 player-card-accordion",attrs:{accordion:"",focusable:""},model:{value:e.accordion,callback:function(t){e.accordion=t},expression:"accordion"}},[t(ra.Z,[t(la.Z,{staticClass:"elevation-0"},[t(d.Z,{staticClass:"mr-2 player-card-accordion__icon",attrs:{color:"yellow darken-2"}},[e._v("fa-medal")]),e._v(" season statistics and points ")],1),t(ia.Z,[0===e.accordion?t("player-points-statistic",{attrs:{player:e.player}}):e._e()],1)],1),e.showPurchaseStatistic?t(ra.Z,[t(la.Z,{staticClass:"elevation-0"},[t(d.Z,{staticClass:"mr-2 player-card-accordion__icon",attrs:{color:"teal darken-2"}},[e._v("fa-search-dollar")]),e._v(" purchase statistics ")],1),t(ia.Z,[t(ha.Z,{staticClass:"elevation-1",attrs:{headers:e.getPlayerStatistics.headers,items:e.getPlayerStatistics.values,"hide-default-footer":!0}})],1)],1):e._e(),t(ra.Z,[t(la.Z,{staticClass:"elevation-0"},[t(d.Z,{staticClass:"mr-2 player-card-accordion__icon",attrs:{color:"blue lighten-2"}},[e._v("fa-chart-line")]),e._v(" market value trend ")],1),t(ia.Z,[t("player-market-value-trend",{attrs:{player:e.player}})],1)],1),e._t("extra-expansion-panel")],2)],1),t(vt.Z,{staticClass:"hidden-sm-and-up",on:{click:e.toggleStatistics}},[e.statsCssClass===e.initStatsCssClass?t("span",[e._v("show")]):t("span",[e._v("hide")]),e._v(" Â statistics ")])],2)])])},ya=[],_a=function(){var e=this,t=e._self._c;return t("span",{staticClass:"status-pill"},[0===e.player.status?t(Jt.Z,{attrs:{dense:"",text:"",icon:"fa-thumbs-up",type:"success"}},[e._v(" fit ")]):1===e.player.status?t(Jt.Z,{attrs:{dense:"",text:"",icon:"fa-plus-square",color:"red"}},[e._v(" injured ")]):2===e.player.status?t(Jt.Z,{staticClass:"is-stricken",attrs:{dense:"",text:"",color:e.orange,icon:"fa-user-injured"}},[e._v(" stricken ")]):4===e.player.status?t(Jt.Z,{attrs:{dense:"",text:"",icon:"fa-dumbbell",color:"orange"}},[e._v(" recover training ")]):8===e.player.status?t(Jt.Z,{attrs:{dense:"",text:"",icon:"fa-times-circle",color:"red"}},[e._v(" red card ")]):16===e.player.status?t(Jt.Z,{staticClass:"is-stricken",attrs:{dense:"",text:"",icon:"fa-times-circle",color:e.orange}},[e._v(" second yellow card ")]):32===e.player.status?t(Jt.Z,{staticClass:"is-stricken",attrs:{dense:"",text:"",icon:"fa-times-circle",color:e.orange}},[e._v(" 5th yellow card ")]):64===e.player.status?t(Jt.Z,{attrs:{dense:"",text:"",icon:"fa-ghost",color:"this.$vuetify.theme.dark ? #ccc' : '#2A3B4D'"}},[e._v(" not in team ")]):128===e.player.status?t(Jt.Z,{attrs:{dense:"",text:"",icon:"fa-suitcase",color:"this.$vuetify.theme.dark ? #ccc' : '#2A3B4D'"}},[e._v(" left the league ")]):256===e.player.status?t(Jt.Z,{attrs:{dense:"",text:"",icon:"fa-suitcase",color:"this.$vuetify.theme.dark ? #ccc' : '#2A3B4D'"}},[e._v(" away ")]):t(Jt.Z,{attrs:{dense:"",text:"",icon:"fa-question",type:"info"}},[e._v(" unsupported status ")])],1)},va=[],ba={name:"StatusPill",props:{player:{type:Object,required:!0}},computed:{orange(){return this.$vuetify.theme.dark?"orange lighten-4":"orange darken-3"}}},ka=ba,wa=(0,Et.Z)(ka,_a,va,!1,null,null,null),Oa=wa.exports,Ca=function(){var e=this,t=e._self._c;return t("div",[e.getLastDayChanges?t(ha.Z,{staticClass:"elevation-1",attrs:{headers:e.getLastDayChanges.headers,items:e.getLastDayChanges.values,"hide-default-footer":!0}}):t("div",{staticClass:"stats-loading"}),t(vt.Z,{attrs:{block:""},on:{click:e.fetchData}},[e._v("fetch data again")])],1)},xa=[],Sa={name:"PlayerMarketValueTrend",props:{player:{type:Object,required:!0}},data(){return{}},mounted(){},computed:{...(0,x.Se)(["getPlayers"]),getLastChanges(){if(this.getPlayers[this.player.id]){const e=this.getPlayers[this.player.id].marketValues,t={labels:[],datasets:[{label:"market value",data:[]}]};if(e&&e.length)for(let a=e.length;a>=e.length-21;a--)if(e[a]){const s=P()(e[a].d);t.labels.push(s.format("DD MM")),t.datasets[0].data.push(e[a].m)}return t.labels=t.labels.reverse(),t.datasets[0].data=t.datasets[0].data.reverse(),t}return null},getLastDayChanges(){const e=[{text:"day",value:"day",sortable:!1},{text:"change",value:"change",sortable:!1}],t=this.getLastChanges;if(t&&t.datasets&&t.datasets.length){const a=t.datasets[0].data.slice(0).reverse(),s=a[6]?E()(a[0]-a[6]).format("0,0"):null,r=a[13]?E()(a[0]-a[13]).format("0,0"):null;return 0===s||0===r?null:{headers:e,values:[{day:"yesterday",change:E()(a[0]-a[1]).format("0,0")},{day:"7 days change",change:s},{day:"14 days change",change:r}]}}return{headers:e}}},methods:{fetchData(){_t.loadPlayersStats(this.player.id)}}},Pa=Sa,Da=(0,Et.Z)(Pa,Ca,xa,!1,null,"b0938f82",null),Ea=Da.exports,La=function(){var e=this,t=e._self._c;return t("div",[e.loaded?t("div",[e.seasonStats.length?t("div",[t("player-points-seasons",{attrs:{seasons:e.seasonStats}}),t("h3",{staticClass:"mt-2"},[e._v("Season "+e._s(e.latestSeasonStats.season))]),e.latestSeasonStats?t(oa.Z,{scopedSlots:e._u([{key:"default",fn:function(){return[t("tbody",[t("tr",[t("th",[e._v("Matches")]),t("td",[t("strong",[e._v(e._s(e.latestSeasonStats.matches))]),e.pastMatchDays?t("span",[e._v("of "+e._s(e.pastMatchDays))]):e._e(),e._v(" ("+e._s(e.latestSeasonStats.startMatches)+" from the start) ")])]),t("tr",[t("th",[e._v("Minutes played")]),t("td",[t("strong",[e._v(e._s(e._f("numeral")(e.latestSeasonStats.secondsPlayed/60)))]),e._v("minutes ("),t("strong",{staticClass:"font-italic"},[e._v("â "+e._s(e._f("numeral")(e.latestSeasonStats.secondsPlayed/60/e.latestSeasonStats.matches)))]),e._v("mins per game) ")])]),t("tr",[t("th",[e._v("Goals")]),t("td",[t("strong",[e._v(e._s(e.latestSeasonStats.goals))]),e._v(" (â "+e._s(e._f("numeral")(e.latestSeasonStats.goals/e.latestSeasonStats.matches,"0.[00]"))+" per game, on average scores a goal every "),t("strong",{staticClass:"font-italic"},[e._v(e._s(e._f("numeral")(e.latestSeasonStats.secondsPerGoal/60)))]),e._v("minutes) ")])]),t("tr",[t("th",[e._v("Assists")]),t("td",[t("strong",[e._v(e._s(e.latestSeasonStats.assists))])])])])]},proxy:!0}],null,!1,3546916108)}):e._e()],1):t("div",[t("h2",{staticClass:"mt-2"},[e._v("no data")])])]):t("div",{staticClass:"player-points-loader"},[t(_.Z,{attrs:{width:3,color:"primary",indeterminate:""}}),t("span",{staticClass:"player-points-loader__info"},[e._v("Loading")])],1)])},Ta=[],Aa=function(){var e=this,t=e._self._c;return t("div",{ref:"seasons",staticClass:"player-points"},e._l(e.seasons,(function(a){return t("div",{key:a.i,staticClass:"player-points__season"},[t("div",{staticClass:"player-points__title"},[t("span",[e._v(e._s(a.t))])]),t("div",{staticClass:"player-points__matches"},[e._l(a.m,(function(s){return t("div",{key:a.i+"-"+s.d,staticClass:"player-points__match"},[t("div",{staticClass:"player-points__match__day"},[t("strong",[e._v(e._s(s.d)+".")]),t("br"),e._v("matchday ")]),s.missed?[t("div",{staticClass:"player-points__match__missed_bar"},[t(d.Z,{staticClass:"mt-1",attrs:{color:"red",size:"16"}},[e._v("fa-ban")]),t("span",[e._v(" did not play ")])],1),s.details&&s.details.i?[t("div",{staticClass:"player-points__match__points"},[e._v(" 0 ")]),t("div",{staticClass:"player-points__match__game-details"},[t("div",{staticClass:"player-points__match__game-details__logos"},[t(Qt.Z,{attrs:{src:e.getTeamImageById(s.details.t1.i),"max-width":"24","max-height":"24"}}),t(Qt.Z,{attrs:{src:e.getTeamImageById(s.details.t2.i),"max-width":"24","max-height":"24"}})],1),t("div",{staticClass:"player-points__match__game-details__result"},[e._v(" "+e._s(s.details.t1.g)+":"+e._s(s.details.t2.g)+" ")]),t("div",{staticClass:"player-points__match__minutes"},[e._v(" 0' ")])])]:e._e()]:[t("div",{staticClass:"player-points__match__bar"},[t("div",{staticClass:"player-points__match__bar__indicator",class:[e.getIndicatorCssClass(s.p)],style:{height:e.calculateBarIndicatorHeight(s.p,a.highestPoints)}},[s.g>0?e._l(s.g,(function(a){return t(d.Z,{key:"goal-"+a,staticClass:"mb-1",attrs:{size:"16",color:"white"}},[e._v("fa-futbol ")])})):e._e(),s.a>0?e._l(s.a,(function(a){return t(d.Z,{key:"assist-"+a,staticClass:"mb-1",attrs:{size:"16",color:"white"}},[e._v("fa-star ")])})):e._e()],2)]),t("div",{staticClass:"player-points__match__points"},[e._v(" "+e._s(s.p)+" ")]),t("div",{staticClass:"player-points__match__game-details"},[t("div",{staticClass:"player-points__match__game-details__logos"},[t(Qt.Z,{attrs:{src:e.getTeamImageById(s.t1i),"max-width":"24","max-height":"24"}}),t(Qt.Z,{attrs:{src:e.getTeamImageById(s.t2i),"max-width":"24","max-height":"24"}})],1),t("div",{staticClass:"player-points__match__game-details__result"},[e._v(" "+e._s(s.t1s)+":"+e._s(s.t2s)+" ")])]),t("div",{staticClass:"player-points__match__minutes"},[s.sp>0?t("span",[e._v(" "+e._s(e._f("numeral")(s.sp/60))+"' ")]):t("span",[e._v(" 0' ")])])]],2)})),a.hideSummary?e._e():t("div",{staticClass:"player-points__season__summary"},[t(d.Z,{attrs:{size:"32"}},[e._v("fa-star")]),t("div",{staticClass:"player-points__season__summary__part"},[t("strong",[e._v(e._s(a.t))]),e._v(" summary ")]),t("div",{staticClass:"player-points__season__summary__part"},[t("strong",[e._v(e._s(a.seasonPoints))]),e._v(" points ")]),t("div",{staticClass:"player-points__season__summary__part"},[t("strong",[e._v(e._s(a.average))]),e._v(" â points ")]),t("div",{staticClass:"player-points__season__summary__part"},[t("strong",[e._v(e._s(a.matches))]),e._v(" matches ")]),t("div",{staticClass:"player-points__season__summary__part"},[t("strong",[e._v(e._s(a.startingFormation))]),e._v(" starting formation ")])],1)],2)])})),0)},Ma=[],Za={name:"PlayerPointsSeasons",props:{seasons:{type:Array,required:!0}},mounted(){this.$refs.seasons.scrollLeft=this.$refs.seasons.scrollWidth},methods:{getTeamImageById(e){return dt(e)},calculatePointsPercentage(e,t){return e&&0!==e?Math.floor(e/t*100):0},calculateBarIndicatorHeight(e,t){const a=this.calculatePointsPercentage(e,t),s=a>95?10:0;return a-s+"%"},getIndicatorCssClass(e){return e>100?"player-points__match__bar__indicator--green":"player-points__match__bar__indicator--red"}}},Na=Za,Ia=(0,Et.Z)(Na,Aa,Ma,!1,null,"4ab140a8",null),Ba=Ia.exports,ja={name:"PlayerPointsStatistic",components:{PlayerPointsSeasons:Ba},props:{player:{type:Object,required:!0}},data(){return{loaded:!1,points:[]}},computed:{...(0,x.Se)(["getPlayers","getMatches","getMatchDays","getNextThreeMatchDays"]),pastMatchDays(){let e=null;return this.getMatches.length&&(e=this.getMatches[0].md),e},latestSeasonStats(){let e=null,t=0;const a=this.getPlayers[this.player.id];return a&&a.seasons&&a.seasons.length&&a.seasons.forEach((a=>{const s=1*a.seasonId;s>t&&(e=a,t=s)})),e},seasonStats(){if(this.points&&this.points.s&&this.points.s.length){let e=0;const t=this.points.s,a=t.length;if(t.forEach(((t,s)=>{let r=0,i=0,l=0;const n=[];if(t.isCurrent=a-1===s,t.m&&t.m.length){t.m.forEach((t=>{n.push(t.d),t.p>e&&(e=t.p),r+=t.p,t.ms&&l++,i++})),t.seasonPoints=r,t.matches=i,t.average=E()(r/i).format("0"),t.startingFormation=l;const o=[];for(let e=1;e<=34;e++)if(-1===n.indexOf(e)){if(s+1===a&&e>=this.pastMatchDays)continue;o.push(e)}o.forEach((e=>{let a={};t.isCurrent&&this.getMatchDays[e]&&this.getMatchDays[e].e&&this.getMatchDays[e].e.length&&this.getMatchDays[e].e.forEach((e=>{e.t1.i!==this.player.teamId&&e.t2.i!==this.player.teamId||(a=e)})),t.m.push({d:e,missed:!0,details:a})})),t.m.sort(((e,t)=>e.d>t.d?1:-1))}})),t.forEach((t=>{t.highestPoints=e})),this.getNextThreeMatchDays&&this.getNextThreeMatchDays.length){const e=[];if(this.getNextThreeMatchDays.forEach((t=>{const a=this.findGameByTeamId(t);a&&e.push(a)})),e.length){const a={m:e,t:"next matchdays",hideSummary:!0};t.push(a)}}return t}return[]}},mounted(){this.init()},methods:{async init(){this.points=await _t.loadPlayersPoints(this.player.id),this.loaded=!0},findGameByTeamId(e){let t=null;return e.m&&e.m.length&&e.m.forEach((a=>{const s="object"===typeof a.t1?a.t1.i:a.t1i,r="object"===typeof a.t2?a.t2.i:a.t2i,i="object"===typeof a.t2?a.t1.g:a.t1s,l="object"===typeof a.t2?a.t2.g:a.t2s;1*s!==1*this.player.teamId&&1*r!==1*this.player.teamId||(a.d=e.md,a.p=0,a.t1i=s,a.t2i=r,a.t1s=i,a.t2s=l,t=a)})),t}}},Fa=ja,Va=(0,Et.Z)(Fa,La,Ta,!1,null,"2a394536",null),Ra=Va.exports,Ua={name:"PlayerCard",components:{PlayerPointsStatistic:Ra,StatusPill:Oa,PlayerMarketValueTrend:Ea},props:{player:{required:!0,type:Object},hideMeta:{type:Boolean,required:!1,default:!1},hidePlayerStatus:{type:Boolean,required:!1,default:!1},hidePlayerPosition:{type:Boolean,required:!1,default:!1},hidePlayerPoints:{type:Boolean,required:!1,default:!1},hidePlayerMarketValue:{type:Boolean,required:!1,default:!1},showPurchaseStatistic:{type:Boolean,required:!1,default:!0}},data(){return{accordion:null,statsCssClass:"hidden-xs-only",initStatsCssClass:null,playerMetaWidth:null}},mounted(){this.initStatsCssClass=this.statsCssClass,this.determinePlayerMetaWidth()},computed:{...(0,x.Se)(["getPlayers","getMatches"]),hasPreHeadSlot(){return!!this.$slots["pre-head"]},getPlayerImage(){return`https://kkstr.s3.amazonaws.com/pool/playersbig/${this.player.id}.png`},getComputedPrice(){return E()(this.player.price).format("0,0")},getGrowthColor(){let e="#2a5b2a",t="#682828";this.$vuetify.theme.dark&&(e="#afd3af",t="#e6b6b6");let a="fa-caret-right";return this.getDiffMV>0?a=e:this.getDiffMV<0&&(a=t),a},getGrowthIcon(){let e="fa-caret-right";return this.getDiffMV>0?e="fa-caret-up":this.getDiffMV<0&&(e="fa-caret-down"),e},getPlayerStatistics(){return{headers:[{text:"Stat",value:"stat",sortable:!1},{text:"",value:"value",sortable:!1}],values:[{stat:"Profit",value:E()(this.getDiffPurchasePrice).format("0,0")},{stat:"Growth to today",value:E()(this.getDiffMV).format("0,0")},{stat:"Current market value",value:E()(this.player.marketValue).format("0,0")},{stat:"Last market value",value:E()(this.getYesterdaysMV).format("0,0")},{stat:"Purchase price",value:E()(this.getPlayersPurchaseSum).format("0,0")},{stat:"Market value change since purchase",value:E()(this.getPlayersMarketValueChange).format("0,0")}]}},getPosition(){return ot(this.player.position)},teamImage(){return dt(this.player.teamId)},getYesterdaysMV(){return this.getPlayers[this.player.id]&&this.getPlayers[this.player.id].marketValues&&this.getPlayers[this.player.id].marketValues.length&&this.getPlayers[this.player.id].marketValues.length>3?this.getPlayers[this.player.id].marketValues[this.getPlayers[this.player.id].marketValues.length-2].m:null},getDiffMV(){return gt(this.player.id)},getDiffPurchasePrice(){return this.getPlayers[this.player.id]&&this.getPlayers[this.player.id].leaguePlayer&&this.player.offers?this.player.offers[0].price-this.getPlayers[this.player.id].leaguePlayer.buyPrice:null},getPlayersMarketValueChange(){return this.getPlayers[this.player.id]&&this.getPlayers[this.player.id].leaguePlayer?this.getPlayers[this.player.id].leaguePlayer.marketValueChange:null},getPlayersPurchaseSum(){return this.getPlayers[this.player.id]&&this.getPlayers[this.player.id].leaguePlayer?this.getPlayers[this.player.id].leaguePlayer.buyPrice:null},genericInfoFieldColor(){return this.$vuetify.theme.dark?"#ccc":"#2A3B4D"},nextGameColor(){return this.$vuetify.theme.dark?"#9b30ff":"#5500a9"},nextMatchComputed(){return nt(this.getMatches,this.player)}},methods:{toggleStatistics(){this.statsCssClass===this.initStatsCssClass?this.statsCssClass=null:this.statsCssClass=this.initStatsCssClass},determinePlayerMetaWidth(){this.$refs.playerCardContent&&(this.playerMetaWidth=this.$refs.playerCardContent.offsetWidth)}}},Ga=Ua,Wa=(0,Et.Z)(Ga,ma,ya,!1,null,null,null),za=Wa.exports,$a=function(){var e=this,t=e._self._c;return t("div",{class:["vue-numeric-input",e.size,"updown"===e.controlsType?"updown":""]},[t("formatted-number-input",{staticClass:"numeric-input",attrs:{value:e.newValue,nullValue:e.initialNumber,decimal:",",separator:"."},on:{change:e.submit,input:e.emitPreview}})],1)},qa=[],Ka=function(){var e=this,t=e._self._c;return t("input",{directives:[{name:"number",rawName:"v-number",value:e.config,expression:"config"}],staticClass:"v-number",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.maskedValue},on:{change:e.noop,input:e.input,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.change.apply(null,arguments)}}})},Ha=[],Ya={prefix:"",suffix:"",separator:",",decimal:".",precision:2,prefill:!0,reverseFill:!1,min:!1,max:!1,nullValue:""};function Xa(e=Ya){function t(e,t,a){return Math.max(e,Math.min(t,a))}function a(e){return t(0,e,20)}function s(e,t){var s=Math.pow(10,t),r=parseFloat(e)/s||0;return r.toFixed(a(t))}this.options=Object.assign(Ya,e),this.input="",this.number="",this.isClean=!1,this.isNull=(e=this.input)=>!this.numberOnly(e,new RegExp("[^0-9]+","gi")),this.clean=(e=!1)=>(this.isClean=e,this),this.sign=()=>{const e=this.input.toString().indexOf("-")>=0&&this.realNumber()>0?"-":"";return e},this.toNumber=e=>Number(e),this.numberOnly=(e,t)=>e.toString().replace(t,""),this.isNegative="-"===this.sign(),this.numbers=()=>(this.options.reverseFill?this.number=s(this.numberOnly(this.input,/\D+/g),this.options.precision).replace(".",this.options.decimal):"number"===typeof this.input?this.number=this.parts(this.input.toString().replace("-",""),".").join(this.options.decimal):(this.number=this.numberOnly(this.input,new RegExp(`[^0-9\\${this.options.decimal}]+`,"gi")),this.number=this.parts(this.number).join(this.options.decimal)),this.number),this.realNumber=()=>this.numbers().toString().replace(this.options.decimal,"."),this.parts=(e="",t=this.options.decimal)=>{var a=e.toString().split(t);if(a[0]=this.toNumber(a[0])||0,a.length>1&&(a[1]=a.slice(1,a.length).join(""),a=a.slice(0,2)),this.isClean){const e=this.toNumber(a.join(".")).toFixed(this.options.precision),t=this.toNumber(e),s=t.toFixed(this.options.minimumFractionDigits);a=this.options.minimumFractionDigits&&this.options.minimumFractionDigits>=0&&t.toString().length<s.length?s.toString().split("."):t.toString().split(".")}return a.slice(0,2)},this.addSeparator=()=>{var e=this.numbers().split(this.options.decimal);return e[0]=e[0].toString().replace(/(\d)(?=(?:\d{3})+\b)/gm,`$1${this.options.separator}`),e.join(this.options.decimal)},this.format=(e="")=>{const t=""!==e?1*e:"";return this.input=e,!this.isNull()&&0!==t||this.options.reverseFill?this.sign()+this.options.prefix+this.addSeparator()+this.options.suffix:0===t?this.options.nullValue:""},this.unformat=(e="")=>{const t=""!==e?1*e:"";return this.input=e,!this.isNull()&&0!==t||this.options.reverseFill?this.sign()+this.realNumber():0===t?this.options.nullValue:""}}const Ja="__input-facade__";function Qa(e){return JSON.parse(JSON.stringify(e))}function es(){return new CustomEvent("input",{bubbles:!0,cancelable:!0,detail:{facade:!0}})}function ts(){return new CustomEvent("change",{bubbles:!0,cancelable:!0,detail:{facade:!0}})}function as(e){const t=e instanceof HTMLInputElement?e:e.querySelector("input");if(!t)throw new Error("facade directive requires an input element");return t}function ss(e,t){const a=()=>{e.setSelectionRange(t,t)};a(),setTimeout(a(),1)}function rs(e,t,{emit:a=!0,force:s=!1,clean:r=!1}={}){const{config:i}=e[Ja];let{oldValue:l}=e[Ja],n=t&&t.data.model?t.data.model.value:e.value;if(s||l!==n){const t=new Xa(i).clean(r&&!i.reverseFill);let s=t.format(n),l=t.clean(!i.reverseFill).unformat(n);return r&&(Number(i.max)&&l>Number(i.max)?(s=t.format(i.max),l=t.unformat(i.max)):Number(i.min)&&l<Number(i.min)&&(s=t.format(i.min),l=t.unformat(i.min))),e[Ja].oldValue=s,e.unmaskedValue=l,e.value!==s&&(e.value=s),a&&e.dispatchEvent(es())}}function is(e){const{target:t,detail:a}=e;if(a&&a.facade)return!1;e.stopPropagation();let s=t.value.length-t.selectionEnd;const{oldValue:r,config:i}=t[Ja];rs(t,null,{emit:!1},e),s=Math.max(s,i.suffix.length),s=t.value.length-s,s=Math.max(s,i.prefix.length+1),ss(t,s),r!==t.value&&t.dispatchEvent(es())}function ls(e){const{target:t,detail:a}=e;if(a&&a.facade)return!1;const{oldValue:s}=t[Ja];rs(t,null,{force:!0,emit:!1,clean:!0},e),s!==t.value&&t.dispatchEvent(ts())}const ns=Ja;var os={bind:(e,{value:t,modifiers:a},s)=>{e=as(e);const r=Object.assign({},Qa(Ya),t,a);e[ns]={config:r},rs(e,s,{force:r.prefill,clean:!0})},inserted:e=>{e=as(e);const t=e[ns],{config:a}=t,s=e.parentElement||e,r=t=>{t.target===e&&is(t)};s.addEventListener("input",r,!0),e.onblur=e=>ls(e),e.onkeydown=t=>{if(([110,190].includes(t.keyCode)||t.key===a.decimal)&&e.value.includes(a.decimal))t.preventDefault();else if([8].includes(t.keyCode)){const s=e.value.slice(e.selectionEnd-1,e.selectionEnd),r=e.value.slice(e.selectionEnd-2,e.selectionEnd);if(s===a.separator){t.preventDefault();let s=e.value.length-e.selectionEnd;e.value=e.value.replace(r,""),s=Math.max(s,a.suffix.length),s=e.value.length-s,s=Math.max(s,a.prefix.length),ss(e,s),e.dispatchEvent(new Event("input"))}}},t.cleanup=()=>s.removeEventListener("input",r,!0)},update:(e,{value:t,oldValue:a,modifiers:s},r)=>{if(e=as(e),t!==a){const{config:a}=e[ns];e[ns].config=Object.assign({},a,t,s),rs(e,r,{force:!0,clean:!0})}else rs(e,r)},unbind:e=>{as(e)[ns].cleanup()}},ds={props:{value:{required:!0},nullValue:{type:[Number,String],default:()=>Ya.nullValue},masked:{type:Boolean,default:!1},reverseFill:{type:Boolean,default:Ya.reverseFill},precision:{type:Number,default:()=>Ya.precision},decimal:{type:String,default:()=>Ya.decimal},separator:{type:String,default:()=>Ya.separator},prefix:{type:String,default:()=>Ya.prefix},suffix:{type:String,default:()=>Ya.suffix}},directives:{number:os},data(){return{maskedValue:null,unmaskedValue:null,initialized:!1}},watch:{value(e,t){e!==t&&(this.maskedValue=e)}},mounted(){this.maskedValue=this.value},methods:{input({target:e}){this.maskedValue=e.value,this.unmaskedValue=e.unmaskedValue,this.initialized?this.$emit("input",this.emittedValue):e.value.match(/(\d)\./)&&(this.initialized=!0)},change(){this.$emit("change",this.emittedValue)},noop(){}},computed:{emittedValue(){return this.masked?this.maskedValue:this.unmaskedValue},config(){return this.$props}}},cs=ds,us=(0,Et.Z)(cs,Ka,Ha,!1,null,null,null),fs=us.exports;E().locale("deff");const hs=100;var ps={name:"vue-numeric-input",components:{FormattedNumberInput:fs},props:{name:String,value:[String,Number],placeholder:String,min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},align:{type:String,default:"left"},width:{type:String},size:{type:String,default:"normal",validator:e=>["small","normal","large"].includes(e)},precision:{type:Number,validator(e){return e>=0&&Number.isInteger(e)}},autofocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},controls:{type:Boolean,default:!0},controlsType:{type:String,default:"plusminus"},mousewheel:{type:Boolean,default:!1},isInput:{type:Boolean,default:!0},className:{type:String,default:null},initialNumber:{type:Number,default:null,required:!1},hasBid:{type:Boolean,default:!1,required:!1},resetCall:{type:Boolean,default:!1,required:!1},enterEvent:{type:Function,default:null,required:!1}},data(){return{newValue:0,minDisable:!1,maxDisable:!1,interval:null,startTime:null,handler:Function,initialized:!1,temporaryStep:1,debouncedCallback:null,valueBeforeChange:0,hasFocus:!1,stepsCounterIncrease:0,stepsCounterDecrease:0}},watch:{resetCall(e){!0===e&&(this.newValue=this.initialNumber,this.temporaryStep=this.step,this.valueBeforeChange=0,this.$emit("input-reset",!0))},newValue(){},hasBid(e){if(!0===e){const e=this.getNewValues(this.initialNumber);this.newValue=e.newValue}else!1===e&&(this.computedValue=null)},initialNumber(e,t){if(e>0&&void 0!==t){const e=this.getNewValues(this.initialNumber);this.newValue=e.newValue}}},mounted(){this.temporaryStep=this.step,this.debouncedCallback=fa()(((...e)=>{"function"===typeof e[0]&&e[0]()}),1e3)},methods:{emitPreview(e){this.$emit("preview",e)},submit(e){this.newValue=e,this.$emit("submit",{value:e,focus:!1,triggeredByEnterKey:!0})},getNewValues(e){let t=e+"";const a=new RegExp("/[,.\\s]*/","g"),s=E()(t.replaceAll(a,"")).value();return{newValue:s,valueBeforeChange:s}},toNumber(e){var t=parseFloat(e);return isNaN(t)?e:t},toPrecision(e,t){return void 0===t&&(t=this.numPrecision),parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t))},getPrecision(e){if(void 0===e)return 0;const t=e.toString(),a=t.indexOf(".");let s=0;return-1!==a&&(s=t.length-a-1),s},increment(){if(!this.readonly&&!this.disabled){this.stepsCounterIncrease>71?this.temporaryStep=1e5:this.stepsCounterIncrease>55?this.temporaryStep=1e4:this.stepsCounterIncrease>41?this.temporaryStep=1e3:this.stepsCounterIncrease>25?this.temporaryStep=100:this.stepsCounterIncrease>11&&(this.temporaryStep=10);let e=0;this.newValue?e=this.newValue:this.initialNumber&&(e=this.initialNumber);const t=Math.pow(10,this.numValuePrecision),a=Math.round(t*e+t*this.temporaryStep)/t;a<=this.max?(this.minDisable=!1,this.newValue=a):this.maxDisable=!0,this.stepsCounterIncrease++}},decrement(){if(!this.readonly&&!this.disabled){this.stepsCounterDecrease>71?this.temporaryStep=1e5:this.stepsCounterDecrease>55?this.temporaryStep=1e4:this.stepsCounterDecrease>41?this.temporaryStep=1e3:this.stepsCounterDecrease>25?this.temporaryStep=100:this.stepsCounterDecrease>11&&(this.temporaryStep=10);let e=0;this.newValue?e=1*this.newValue:this.initialNumber&&(e=1*this.initialNumber);const t=Math.pow(10,this.numValuePrecision),a=Math.round(t*e-t*this.temporaryStep)/t;a>=this.min?(this.maxDisable=!1,this.newValue=a):this.minDisable=!0,this.stepsCounterDecrease++}},start(e){document.addEventListener("mouseup",this.stop),this.startTime=new Date,this.handler=e,clearInterval(this.interval),this.interval=setInterval(e,hs)},stop(e){document.removeEventListener(e.type,this.stop),new Date-this.startTime<hs&&this.handler(),clearInterval(this.interval),this.interval=null,this.handler=null,this.startTime=null,this.value!==this.computedValue&&this.$emit("change",this.computedValue)},focus(){this.disabled||this.$refs.input.focus()}},computed:{computedValue:{get(){return this.newValue??null},set(e){this.newValue&&null!==e&&(!this.initialNumber||0!==this.newValue&&void 0!==this.newValue||!1!==this.initialized||(this.initialized=!0,this.valueBeforeChange=this.newValue),this.newValue=e,this.$emit("input",{value:this.newValue,focus:this.hasFocus}),this.debouncedCallback((()=>{this.valueBeforeChange=this.newValue,this.temporaryStep=this.step,this.stepsCounterIncrease=0,this.stepsCounterDecrease=0})))}},numValuePrecision(){const e=this.getPrecision(this.step);return void 0!==this.precision?this.precision:Math.max(this.getPrecision(this.computedValue||0),e)}},beforeDestroy(){clearInterval(this.interval),this.interval=null,this.handler=null,this.startTime=null}},gs=ps,ms=(0,Et.Z)(gs,$a,qa,!1,null,null,null),ys=ms.exports,_s=function(){var e=this,t=e._self._c;return t(Jt.Z,{staticClass:"saved-alert",attrs:{type:"success",text:e.isTextStyle,transition:"fade-transition",value:e.value}},[e._v(e._s(e.message))])},vs=[],bs={name:"SavedAlert",props:{value:{type:Boolean,default:!1,required:!1},message:{type:String,default:"saved",required:!1},isTextStyle:{type:Boolean,default:!0,required:!1}}},ks=bs,ws=(0,Et.Z)(ks,_s,vs,!1,null,null,null),Os=ws.exports;E().locale("deff");const Cs="hidden-sm-and-down";var xs={props:{player:{type:Object,required:!0}},components:{PlayerCard:za,VueNumericInput:ys,SavedAlert:Os},data(){return{playerBid:null,playerBidRepresentation:null,options:{responsive:!1,maintainAspectRatio:!1},calcPercent:.0096,calc05Percent:.005,calc03Percent:.003,calcPercentSafe:.009,previewValue:null,lastDayChangesClass:"",selectedBidStep:1,debouncedCallback:null,showSavedAlert:!1,inputValue:null,triggeredByEnterKey:!1,resetCall:!1,toggledExpiryDate:!1,expiryAsDateTime:!1,expiryTimer:null,bidButtons:[0,-.9,.3,.5]}},mounted(){this.lastDayChangesClass=Cs;const e=this.player.offers;e&&e.length&&e.forEach((e=>{1*e.userId===this.$store.getters.getSelf&&(this.playerBid=e.price)})),this.debouncedCallback=fa()(((...e)=>{"function"===typeof e[0]&&e[0]()}),1e3),this.expiryAsDateTime="timestamp"===this.getTransfermarketExpiryDisplayType,!0===this.getTransfermarketExpiryDateFadeEffect&&(this.expiryTimer=setInterval((()=>{this.toggledExpiryDate?clearInterval(this.expiryTimer):this.expiryAsDateTime=!this.expiryAsDateTime}),7e3))},watch:{inputValue(e){this.debouncedCallback((()=>{e===this.inputValue&&null!==e&&!1===this.triggeredByEnterKey&&this.sendForm()}))}},computed:{...(0,x.Se)(["getSelf","getPlayers","getUsers","getBids","getTransfermarketExpiryDisplayType","getTransfermarketExpiryDateFadeEffect"]),bidValue(){return 1*(this.playerBid??this.player.marketValue)},inputPlaceholder(){return this.player.marketValue+""},sortedOffers(){if(this.player.offers&&this.player.offers.length){const e=[...this.player.offers];return e.sort(((e,t)=>{const a=1*e.userId===this.getSelf,s=1*t.userId===this.getSelf;return a?(e.isSelf=!0,-1):s?(t.isSelf=!0,1):void 0})),e}return[]},foreignOffers(){return this.sortedOffers.filter((e=>1*e.userId!==this.getSelf))},expiryDate(){const e=P()().subtract(this.player.expiry,"seconds");return e.toNow()},expiryDateAsDateTime(){const e=P()().add(this.player.expiry,"seconds"),t=e.isSame(P()(),"day")?"HH:mm:ss a":"HH:mm:ss a (DD.MM.YY)";return e.format(t)},getComputedPrice(){return E()(this.player.price).format("0,0")},getValidBidNumber(){return this.inputValue??this.playerBid},getBidNumber(){let e=this.getValidBidNumber;return this.previewValue&&!e&&(e=this.previewValue),1*e},getComputedBid(){let e=this.getBidNumber;return e?E()(e).format("0,0"):"no bid"},getComputedDifference(){const e=this.getBidNumber,t=e?E()(e-this.player.price).format("0,0"):"no bid",a=(e-this.player.price)/this.player.price*100,s=Number.parseFloat(a).toPrecision(2);return{number:t,percentage:s}},getComputedDifferenceWording(){let e=", which is exactly the market value";return this.getComputedDifference.number<0?e=" less than the market value":this.getComputedDifference.number>0&&(e=" more than the market value"),e},isDarkTheme(){return this.$vuetify.theme.dark},getLastChanges(){if(this.getPlayers[this.player.id]){const e=this.getPlayers[this.player.id].marketValues,t={labels:[],datasets:[{label:"market value",data:[]}]};for(let a=e.length;a>=e.length-21;a--)if(e[a]){const s=P()(e[a].d);t.labels.push(s.format("DD MM")),t.datasets[0].data.push(e[a].m)}return t.labels=t.labels.reverse(),t.datasets[0].data=t.datasets[0].data.reverse(),t}return null},getLastDayChanges(){const e=[{text:"day",value:"day",sortable:!1},{text:"change",value:"change",sortable:!1}],t=this.getLastChanges;if(t&&t.datasets&&t.datasets.length){const a=t.datasets[0].data.slice(0).reverse(),s=a[6]?E()(a[0]-a[6]).format("0,0"):null,r=a[13]?E()(a[0]-a[13]).format("0,0"):null;return 0===s||0===r?null:{headers:e,values:[{day:"yesterday",change:E()(a[0]-a[1]).format("0,0")},{day:"7 days change",change:s},{day:"14 days change",change:r}]}}return{headers:e}},getPosition(){return ot(this.player.position)},teamImage(){return dt(this.player.teamId)}},methods:{toggleExpiryAsDateTime(){this.toggledExpiryDate=!0,this.expiryAsDateTime=!this.expiryAsDateTime},inputReset(){this.resetCall=!1},dummySubmit(){},preview(e){this.previewValue=e},setInputValue(e){e.triggeredByEnterKey?(this.triggeredByEnterKey=!0,this.inputValue=e.value,this.sendForm()):!1===e.focus&&(this.inputValue=e.value)},fetchData(){_t.loadPlayersStats(this.player.id)},getDate(e){const t=P()(e);return t.fromNow()},revokeBid(){let e=null;this.getBids.forEach((t=>{t.id===this.player.id&&t.offers&&t.offers.length&&t.offers.forEach((t=>{1*t.userId===this.getSelf&&(e=t)}))})),e&&_t.revokeBid(this.player.id,e.id,(async()=>{this.playerBid=null,this.previewValue=null,this.inputValue=null,this.resetCall=!0,await ct(100),this.resetCall=!1,await _t.loadBids(!1)}))},sendPercentageBid(e){this.playerBid=1*E()(this.getPercentMVValue(e)).format("0"),this.sendForm()},sendForm(){let e=this.player.marketValue;this.inputValue?e=this.inputValue:this.playerBid&&(e=this.playerBid),_t.sendBid(this.player.id,e,(async t=>{t.offerId&&(this.playerBid=e,this.inputValue=null,this.previewValue=null,this.showSavedAlert=!0,this.triggeredByEnterKey=!1,await _t.loadBids(!1),await ct(1500),this.showSavedAlert=!1)}),!1,(async()=>{this.triggeredByEnterKey=!1,this.playerBid=null,this.inputValue=null,this.resetCall=!0,this.previewValue=null,await ct(1500),this.resetCall=!1}))},getUsersPlayers(e){const t=this.getUsers;return t[e]&&t[e].players&&t[e].players.length?t[e].players.length:0},getPercentMVValue(e){return this.player.marketValue+this.player.marketValue*e/100},getPercentMVValueRepresentation(e){return E()(this.getPercentMVValue(e)).format("0,0")},getButtonLabel(e){let t="";const a=this.getPercentMVValueRepresentation(e);return e<0?t=e+"%":e>0&&(t="+"+e+"%"),`<strong>MV${t}</strong>: ${a}`}}},Ss=xs,Ps=(0,Et.Z)(Ss,da,ca,!1,null,null,null),Ds=Ps.exports,Es=function(){var e=this,t=e._self._c;return t("div",{staticClass:"options-bar"},[!1===e.mobileState?t("div",{staticClass:"options-bar__mobile_content"},[t(vt.Z,{staticClass:"options-bar__expand-btn elevation-15",attrs:{large:"",fab:"",color:"secondary"},on:{click:e.toggleMobileState}},[e._v(" "+e._s(e.title)+" ")]),t("div",{staticClass:"other-buttons"},[e._t("other-buttons")],2)],1):e._e(),t("div",{staticClass:"options-bar__expanded_content",class:{"options-bar__expanded_content--active":e.mobileState,"elevation-15":e.mobileState}},[t("div",{staticClass:"options-bar__expanded_content__inner"},[t("div",{staticClass:"options-bar__expanded_content__inner__content"},[t("p",{staticClass:"text-h6 mb-6"},[e._v(e._s(e.title))]),e._t("content"),e.hasInfoSlot?t(vt.Z,{staticClass:"mb-2 options-bar__info-button",attrs:{text:"",color:"info"},on:{click:e.toggleShowInfo}},[e.showInfo?t("span",[e._v("hide")]):t("span",[e._v("show")]),e._v(" "+e._s(e.infoButtonTitle)+" ")]):e._e(),e.showInfo?t("div",{staticClass:"options-bar__info_content"},[e._t("info")],2):e._e()],2),e.mobileState?t(vt.Z,{staticClass:"mt-5 kp-button elevation-0",attrs:{block:"","x-large":""},on:{click:e.toggleMobileState}},[e._v("close")]):e._e()],1)])])},Ls=[],Ts={name:"OptionsBar",props:{title:{default:"Options",required:!1,type:String},infoButtonTitle:{type:String,required:!1,default:"Show"}},data(){return{showInfo:!1,mobileState:!1}},computed:{hasInfoSlot(){return!!this.$slots.info}},methods:{toggleShowInfo(){this.showInfo=!this.showInfo},toggleMobileState(){this.mobileState=!this.mobileState;const e=this.mobileState?"add":"remove";document.body.classList[e]("options-open")}}},As=Ts,Ms=(0,Et.Z)(As,Es,Ls,!1,null,null,null),Zs=Ms.exports,Ns=function(){var e=this,t=e._self._c;return t(vt.Z,{staticClass:"reload-button elevation-0",class:e.extraClasses,attrs:{loading:e.loading,disabled:e.loading,fab:"","x-large":e.xLarge,large:e.large,color:e.color}},[t(d.Z,[e._v(" fa-redo ")])],1)},Is=[],Bs={name:"ReloadButton",props:{loading:{type:Boolean,required:!1,default:!1},color:{type:String,required:!1,default:"secondary"},xLarge:{type:Boolean,required:!1,default:!1},large:{type:Boolean,required:!1,default:!1},extraClasses:{type:String,required:!1,default:""}}},js=Bs,Fs=(0,Et.Z)(js,Ns,Is,!1,null,null,null),Vs=Fs.exports,Rs=function(){var e=this,t=e._self._c;return t("div",{staticClass:"spinner"},[t(_.Z,{attrs:{indeterminate:"",size:64,width:8,color:"dark"}})],1)},Us=[],Gs={name:"loading-spinner"},Ws=Gs,zs=(0,Et.Z)(Ws,Rs,Us,!1,null,null,null),$s=zs.exports,qs={name:"transfermarket-view",components:{LoadingSpinner:$s,BidRow:Ds,OptionsBar:Zs,ReloadButton:Vs},data:()=>({search:null,showOtherUsersPlayer:!1,positions:["All","Goalkeeper","Defender","Midfielder","Forward"],selectedFilteredPosition:null,loading:!0,expertFilters:[],filteredTeams:[],order:null,orderOptions:["order by date (default)","order by market value","order by growth"],expertFiltersOptions:[{text:"only players with growing market value",value:"growing"},{text:"only players without any bids",value:"no-bids"},{text:"only players without other bids",value:"no-foreign-bids"},{text:"only players with own bid",value:"own-bid"},{text:"only players without injuries",value:"no-injuries"},{text:"show players who are sold before next matchday",value:"sold-before-matchday"},{text:"show players who are sold after next matchday",value:"sold-after-matchday"},{text:"show players who are sold before next market value update (ca. 22:00)",value:"sold-before-market-value-update"},{text:"show players who are sold after next market value update (ca. 22:00)",value:"sold-after-market-value-update"}]}),computed:{...(0,x.Se)(["getBids","getSelf","getInitialized","getUsersDetails","getSelectedLeague","getTeams","getNextMatchDay"]),playersLeft(){return this.getSelectedLeague&&this.getSelectedLeague.pl?this.getUsersDetails&&this.getUsersDetails.players&&this.getSelectedLeague?this.getSelectedLeague.pl-this.getUsersDetails.players.length:0:"unlimited"},alertColor(){return 0===this.playersLeft?"red darken-2":1===this.playersLeft?"orange darken-2":"success darken-2"},getComputedBids(){const e=this.getBids;if(e.length)for(const t of e)t.expiration=P()().add(t.expiry,"s"),t.hasOwnBid=this.hasOwnBid(t),t.hasOnlySelfBid=this.hasOnlySelfBid(t),t.hasNoBid=this.hasNoBid(t),t.marketValueChange=gt(t.id);return e},hasActiveFilters(){return this.search||this.selectedFilteredPosition||this.filteredTeams.length||this.expertFilters.length},getFilteredPlayers(){const e=P()().hour(22).minute(0),t=this.getNextMatchDay?this.getNextMatchDay.nts:null;let a=this.getComputedBids;if(this.search){const e=new RegExp(this.search,"i");a=a.filter((t=>t.lastName.match(e)))}if(this.selectedFilteredPosition){let e=null;switch(this.selectedFilteredPosition){case"All":break;case"Goalkeeper":e=1;break;case"Defender":e=2;break;case"Midfielder":e=3;break;case"Forward":e=4;break;default:e=null;break}e&&(a=a.filter((t=>t.position===e)))}if(this.filteredTeams.length){const e=[];for(const t of this.filteredTeams)e.push(1*t.i);a=a.filter((t=>-1!==e.indexOf(1*t.teamId)))}if(this.expertFilters.length)for(const s of this.expertFilters)"no-injuries"===s&&(a=a.filter((e=>1!==e.status))),"own-bid"===s&&(a=a.filter((e=>!0===e.hasOwnBid))),"no-foreign-bids"===s&&(a=a.filter((e=>!0===e.hasOnlySelfBid))),"no-bids"===s&&(a=a.filter((e=>!0===e.hasNoBid))),"growing"===s&&(a=a.filter((e=>e.marketValueChange>0))),"sold-before-matchday"===s&&t&&(a=a.filter((e=>e.expiration.isBefore(t)))),"sold-after-matchday"===s&&t&&(a=a.filter((e=>e.expiration.isAfter(t)))),"sold-before-market-value-update"===s&&(a=a.filter((t=>t.expiration.isBefore(e)))),"sold-after-market-value-update"===s&&(a=a.filter((t=>t.expiration.isAfter(e))));return this.showOtherUsersPlayer||(a=a.filter((e=>!e.userId))),this.order&&("order by market value"===this.order&&(a=a.sort(((e,t)=>e.marketValue>t.marketValue?-1:e.marketValue<t.marketValue?1:0))),"order by growth"===this.order&&(a=a.sort(((e,t)=>e.marketValueChange>t.marketValueChange?-1:e.marketValueChange<t.marketValueChange?1:0)))),a}},mounted(){this.init()},methods:{...(0,x.OI)(["setBids"]),init:async function(){this.getInitialized?(await this.load(),await _t.loadUsers(),await _t.loadUsersStats(!0)):window.setTimeout(this.init,1e3)},async load(){this.setBids([]),this.loading=!0,await _t.loadBids(!0),this.loading=!1},hasOwnBid(e){const t=e.offers;let a=!1;return t&&t.length&&t.forEach((e=>{1*e.userId===this.getSelf&&(a=!0)})),a},hasOnlySelfBid(e){return e.offers&&1===e.offers.length&&this.hasOwnBid(e)},hasNoBid(e){const t=e.offers;return t&&0===t.length||!t},clubImage(e){return dt(e)},resetFilters(){this.search=null,this.selectedFilteredPosition=null,this.expertFilters=[],this.filteredTeams=[]}}},Ks=qs,Hs=(0,Et.Z)(Ks,aa,sa,!1,null,null,null),Ys=Hs.exports,Xs=a(6072),Js=function(){var e=this,t=e._self._c;return e.playersStack&&e.playersStack.length||e.playerNotOnMarket&&e.playerNotOnMarket.length?t("div",{staticClass:"full-width-container full-width-container--with-options-bar"},[t("options-bar",{attrs:{"info-button-title":"your defaults"},scopedSlots:e._u([{key:"content",fn:function(){return[t("reload-button",{attrs:{loading:e.loading,color:"transparent","extra-classes":"desktop"},nativeOn:{click:function(t){return e.load.apply(null,arguments)}}}),t("sell-view-order"),t(Xs.Z,{attrs:{label:"show only too low offers"},model:{value:e.showPlayerWithTooLowOffersOnly,callback:function(t){e.showPlayerWithTooLowOffersOnly=t},expression:"showPlayerWithTooLowOffersOnly"}}),e.computedDeclinableOffers.length?t("div",[t(vt.Z,{staticClass:"kp-button kp-button__decline-all kp-button--in-options-bar mb-4",attrs:{"x-large":""},on:{click:e.declineAllTooLowOrExpiredOffers}},[e._v(" decline all "),t("strong",[e._v(e._s(e.computedDeclinableOffers.length)+" offers")]),e._v(" that are too low or expired ")]),t("p",{staticClass:"text-caption"},[e._v("Players with too low offers:")]),t("ol",{staticClass:"text-caption mb-5"},e._l(e.computedDeclinableOffers,(function(a){return t("li",{key:a.id},[e._v(" "+e._s(a.displayName)+" ")])})),0)],1):e._e()]},proxy:!0},{key:"other-buttons",fn:function(){return[t("reload-button",{attrs:{loading:e.loading,large:!0,color:"secondary"},nativeOn:{click:function(t){return e.load.apply(null,arguments)}}}),e.computedDeclinableOffers.length?t(vt.Z,{staticClass:"button-text-wrap button-text-065rem",attrs:{large:"",fab:"",color:"red darken-4 text--white"},on:{click:e.declineAllTooLowOrExpiredOffers}},[e._v(" decline "),t("strong",[e._v(e._s(e.computedDeclinableOffers.length))]),e._v(" offers ")]):e._e()]},proxy:!0},{key:"info",fn:function(){return[t(Jt.Z,{attrs:{outlined:"",type:"info",icon:!1}},[t("div",{staticClass:"d-flex align-center"},[t(d.Z,{staticClass:"mr-2",attrs:{color:"info"}},[e._v("fa-info-circle")]),t("p",{staticClass:"caption mb-0"},[e._v(" your default settings: ")])],1),t(oa.Z,[[t("tbody",[t("tr",[t("th",[e._v("Order")]),t("td",[e._v(e._s(e.getOfferOrderLabel))])]),t("tr",[t("th",[e._v("Offer threshold")]),t("td",[e._v(e._s(e.getOfferThreshold))])]),t("tr",[t("th",[e._v('Open "player not on market" panel')]),t("td",[e._v(e._s(e.getOfferOpenPlayerNotOnMarketPanel))])]),t("tr",[t("th",[e._v('Open "player without any offer" panel')]),t("td",[e._v(e._s(e.getOfferOpenPlayerWithoutAnyOfferPanel))])]),t("tr",[t("th",[e._v('Checkbox "Show only too low offers"')]),t("td",[e._v(e._s(e.getOfferShowTooLowOffersOnly))])])])]],2)],1)]},proxy:!0}],null,!1,1023691144)}),!1===e.loading?t("div",{staticClass:"flex-grow-1 options-bar__sibling"},[t(pa.Z,{staticClass:"elevation-1 player-card-accordion",attrs:{multiple:"",accordion:"",focusable:""},model:{value:e.openPanels,callback:function(t){e.openPanels=t},expression:"openPanels"}},[t(ra.Z,[t(la.Z,{staticClass:"elevation-0"},[t(d.Z,{staticClass:"mr-2 player-card-accordion__icon"},[e._v("fa-money-bill-wave")]),t("strong",[e._v(e._s(e.playerNotOnMarket.length))]),e._v(" player not on market ")],1),t(ia.Z,e._l(e.playerNotOnMarket,(function(a,s){return t(bt.Z,{key:s,staticClass:"pa-2",attrs:{outlined:"",tile:""}},[t("h3",{staticClass:"title"},[a.knownName?t("span",[e._v(e._s(a.knownName))]):t("span",[e._v(e._s(a.firstName)+" "+e._s(a.lastName))])]),t(vt.Z,{attrs:{block:"",color:"grey darken-1 white--text",large:""},on:{click:function(t){return e.putOnMarket(a)}}},[e._v("Put on market")])],1)})),1)],1),e.playerWithoutAnyOffer.length>0?t(ra.Z,[t(la.Z,{staticClass:"elevation-0"},[t(d.Z,{staticClass:"mr-2 player-card-accordion__icon"},[e._v("fa-spinner")]),t("strong",[e._v(e._s(e.playerWithoutAnyOffer.length))]),e._v(" players who have no offer at the moment ")],1),t(ia.Z,e._l(e.playerWithoutAnyOffer,(function(a){return t("offer-player-item",{key:a.id,attrs:{player:a,"hide-meta":!e.getGeneralPlayerCardShowAlwaysAllDetails}})})),1)],1):e._e()],1),e._l(e.playerWithAnOffer,(function(a){return t("offer-player-item",{key:a.id,attrs:{player:a,"show-player-with-too-low-offers-only":e.showPlayerWithTooLowOffersOnly},on:{acceptOffer:e.acceptOffer,setPlayerOnMarketAgain:e.setPlayerOnMarketAgain}})}))],2):t("div",{staticClass:"flex-grow-1 options-bar__sibling"},[t("spinner")],1)],1):t("spinner")},Qs=[],er=function(){var e=this,t=e._self._c;return e.show?t("player-card",{class:[...e.getPlayerCardCssClasses()],attrs:{player:e.player,"hide-meta":e.hideMeta}},[e._l(e.player.offers,(function(a){return t(bt.Z,{key:a.id,staticClass:"mb-6 elevation-0 offer",class:[...e.getOfferCssClasses(a)]},[t(kt.ZB,[!0===e.hasNonCPUOffers(e.player)?t("p",{staticClass:"mb-0"},[a.userName?t("span",[e._v(" "+e._s(a.userName)+" ")]):t("span",[e._v("KICKBASE")])]):e._e(),t("p",{staticClass:"text-subtitle-1 text-sm-h5 text--primary mb-0"},[t("strong",[e._v(e._s(e.getOffer(a)))]),e._v(" | "),t("span",{staticClass:"text-caption text-sm-body-1"},[a.userName?t("span",[e._v("from "+e._s(e._f("expiry")(a.date)))]):t("span",[e.offerExpired(a)?e._e():t("span",{staticClass:"hidden-xs-only"},[e._v("expires")]),e.offerExpired(a)?t("span",{staticClass:"hidden-xs-only"},[e._v("expired")]):e._e(),t("span",{staticClass:"hidden-sm-and-up"},[e._v("exp.")]),e._v(" "+e._s(e._f("expiry")(a.validUntilDate))+" ")])])]),t("div",{staticClass:"text-subtitle-2 text-sm-h6 text--primary mb-0 d-flex"},[t("span",{staticClass:"profit-info",class:e.isAnHighOffer(a)?"profit-info--green":"profit-info--red"},[e._v(" Offer: "+e._s(e._f("numeral")(e.calcOffer(a,e.player.marketValue),"0,0 $"))+" ("+e._s(e.percent(a))+"%) ")]),t("span",{staticClass:"profit-info",class:e.profit(a)>1?"profit-info--green":"profit-info--red"},[e._v(" Profit: "+e._s(e._f("numeral")(e.profit(a),"0,0 $"))+" ")])]),e.offerExpired(a)?t("div",{staticClass:"expired-info"},[t(d.Z,{attrs:{color:"white"}},[e._v("fa-hourglass-end")]),e._v(" this offer expired "+e._s(e._f("expiry")(a.validUntilDate))+" ")],1):e._e()]),!1===e.offerExpired(a)?t(kt.h7,[t("accept-button",{attrs:{offer:a,player:e.player,"is-high-offer":e.isAnHighOffer(a)},on:{acceptOffer:e.acceptOffer}})],1):e._e()],1)})),t("div",{staticClass:"mb-5"},[e.hasOffer(e.player)?t(vt.Z,{staticClass:"kp-button kp-button__decline-all",attrs:{"x-large":"",block:""},on:{click:function(t){return e.removePlayerFromMarket(e.player)}}},[t(d.Z,{attrs:{left:""}},[e._v("fa-times")]),e._v(" DECLINE "),!0===e.hasNonCPUOffers(e.player)?t("span",[e._v("Â ALLÂ ")]):e._e(),e._v(" AND ADD AGAIN ")],1):e._e()],1)],2):e._e()},tr=[],ar=function(){var e=this,t=e._self._c;return t(vt.Z,{staticClass:"mb-2 mb-sm-5 kp-button kp-button__accept",class:{"high-offer":e.isHighOffer,"low-offer":!e.isHighOffer},attrs:{block:"",large:"",text:"","x-large":""},on:{click:function(t){return e.acceptOffer()}}},[t(d.Z,{attrs:{color:"white",left:""}},[e._v("fa-check-circle")]),e._v(" ACCEPT "+e._s(e.offerWording)+" OFFER "),e.showNameInfo?t("span",[e._v(" Â FROM "),t("strong",[e._v(e._s(e.username))])]):e._e()],1)},sr=[],rr={name:"accept-button-sell",components:{},props:{offer:{required:!0,type:Object},player:{required:!0,type:Object},isHighOffer:{required:!1,type:Boolean,default:!1}},computed:{showNameInfo(){return this.offer.userName},username(){return this.offer.userName?this.offer.userName:"KICKBASE"},offerWording(){return this.isHighOffer?"high":"low"}},methods:{acceptOffer(){const e=`Accept ${this.username}'s offer for player "${this.player.firstName} ${this.player.lastName}" ?`;if(window.confirm(e)){const e={offerId:this.offer.id,playerId:this.player.id};this.$emit("acceptOffer",{offer:e})}}}},ir=rr,lr=(0,Et.Z)(ir,ar,sr,!1,null,null,null),nr=lr.exports;E().locale("deff");var or={name:"offer-player-item",components:{PlayerCard:za,AcceptButton:nr},data:()=>({}),props:{player:{required:!0,type:Object},showPlayerWithTooLowOffersOnly:{required:!1,default:!1,type:Boolean},hideMeta:{required:!1,default:!1,type:Boolean}},filters:{expiry:e=>{const t=P()(e);return t.fromNow()}},computed:{...(0,x.Se)(["getSelf","getPlayersOfUser","getLeague","getPlayers","getOfferThreshold"]),show(){return!this.showPlayerWithTooLowOffersOnly||this.showPlayerWithTooLowOffersOnly&&this.player.hasLowOffer},hidePlayerCardDetail(){return!0===(!this.player.offers||this.player.offers&0===this.player.offers.length)}},methods:{...(0,x.OI)(["addLoadingMessage","setLoading","resetLoading"]),getPlayerCardCssClasses(){const e=[];return!0===this.player.hasExpiredOffers&&e.push("offer--expired"),!0===this.player.hasHighOffer&&e.push("offer--high"),!0===this.player.hasLowOffer&&e.push("offer--low"),e},getOfferCssClasses(e){const t=[];return this.offerExpired(e)?t.push("offer--expired"):!0===this.isAnHighOffer(e)?t.push("offer--high"):!1===this.isAnHighOffer(e)&&t.push("offer--low"),t},calcOffer(e,t){return ut(e,t)},percent(e){return ft(this.player,e)},isAnHighOffer(e){return ht(this.player,e,this.getOfferThreshold)},hasNonCPUOffers(e){return e.offers.filter((e=>e.userName)).length>0},getOffer(e){return E()(e.price).format("0,0 $")},hasOffer(e){return e.offers&&e.offers.length},offerExpired(e){return pt(e)},profit(e){return this.getPlayers[this.player.id]&&this.getPlayers[this.player.id].leaguePlayer?e.price-this.getPlayers[this.player.id].leaguePlayer.buyPrice:null},removePlayerFromMarket(e){this.player.hasHighOffer?window.confirm('Add player "'+e.firstName+" "+e.lastName+'" to the transfer market again despite high offer?')&&this.setPlayerOnMarketAgain(e):this.setPlayerOnMarketAgain(e)},async setPlayerOnMarketAgain(e){this.$emit("setPlayerOnMarketAgain",e)},async acceptOffer(e){this.$emit("acceptOffer",e)}}},dr=or,cr=(0,Et.Z)(dr,er,tr,!1,null,null,null),ur=cr.exports,fr=function(){var e=this,t=e._self._c;return t(ea.Z,{attrs:{items:e.orderOptions,label:"Sort order",outlined:""},model:{value:e.orderLabel,callback:function(t){e.orderLabel=t},expression:"orderLabel"}})},hr=[],pr={name:"sell-view-order",props:{callback:{type:Function,required:!1,default:null},isTemporary:{type:Boolean,required:!1,default:!0}},data(){return{order:null,orderLabel:null}},watch:{order(e){"function"===typeof this.callback&&this.callback(e)},orderLabel(e){let t=null;const a=Object.keys(this.getDefaults.offerOrders);a.forEach((a=>{this.getDefaults.offerOrders[a]===e&&(t=a)})),t&&(this.order=t,this.storeOrder())}},mounted(){this.orderLabel=this.getOrderLabelByKey()},computed:{...(0,x.Se)(["getDefaults","getOfferOrder"]),orderOptions(){const e=Object.keys(this.getDefaults.offerOrders),t=[];return e.forEach((e=>{t.push(this.getDefaults.offerOrders[e])})),t},computedValue(){return this.isTemporary&&this.getOfferOrder.temporary?this.getOfferOrder.temporary:this.getOfferOrder.init}},methods:{...(0,x.OI)(["setOfferOrder"]),storeOrder(){const e=Object.hasOwn(this.getDefaults.offerOrders,this.order);let t=this.order;!1===e&&(t=this.getDefaults.offerOrder),this.computedValue!==t&&this.setOfferOrder({order:t,isTemporary:this.isTemporary})},getOrderLabelByKey(){return this.getDefaults.offerOrders[this.computedValue]}}},gr=pr,mr=(0,Et.Z)(gr,fr,hr,!1,null,null,null),yr=mr.exports,_r={name:"sell-view",components:{SellViewOrder:yr,OptionsBar:Zs,Spinner:$s,OfferPlayerItem:ur,ReloadButton:Vs},data:()=>({offers:[],playerNotOnMarket:[],playersStack:[],overlay:!1,showPlayerWithTooLowOffersOnly:!1,actionMessages:[],openPanels:[],tooLowOffers:[],expiredOffers:[],viewOrder:null,loading:!0}),watch:{offers(){this.openPanels=[],!0===this.getOfferOpenPlayerNotOnMarketPanel&&this.playerNotOnMarket.length&&this.openPanels.push(0),!0===this.getOfferOpenPlayerWithoutAnyOfferPanel&&this.playerWithoutAnyOffer.length&&this.openPanels.push(1)}},computed:{...(0,x.Se)(["getInitialized","getSelf","getPlayersOfUser","getLeague","getPlayers","getOfferThreshold","getDefaults","getOfferOrderLabel","getOfferOpenPlayerNotOnMarketPanel","getOfferOpenPlayerWithoutAnyOfferPanel","getOfferOrder","getOfferShowTooLowOffersOnly","getGeneralPlayerCardShowAlwaysAllDetails"]),getToken(){return _t.getToken()},playerWithoutAnyOffer(){return this.offers.filter((e=>!e.offers||e.offers&&0===e.offers.length))},playerWithAnOffer(){let e=this.offers.filter((e=>e.offers&&e.offers.length>=1));return"oldest"===this.getComputedOrder?e.sort(((e,t)=>e.expiry>t.expiry?1:-1)):"newest"===this.getComputedOrder&&e.sort(((e,t)=>e.expiry>t.expiry?-1:1)),e},getComputedOrder(){return this.getOfferOrder.temporary??this.getOfferOrder.init},computedDeclinableOffers(){return[...this.tooLowOffers,...this.expiredOffers]}},mounted(){this.init(),this.showPlayerWithTooLowOffersOnly=this.getOfferShowTooLowOffersOnly},methods:{...(0,x.OI)(["addLoadingMessage","setLoading","resetLoading"]),init:async function(){this.getInitialized?await this.load():window.setTimeout(this.init,1e3)},async load(){this.loading=!0,await _t.loadUsersStats(!0),await this.loadOffers()},async loadOffers(){const e=await _t.loadUsersPlayerOffers();this.setPlayers(e)},sortOffers(e){this.viewOrder=e},setPlayers:function(e){window.setTimeout((()=>{this.resetLoading()}),500),this.offers=[],this.playerNotOnMarket=[],this.playersStack=[],this.tooLowOffers=[],this.expiredOffers=[],e.players&&e.players.length&&(e.players.forEach((e=>{e.userId&&1*e.userId===this.getSelf&&(!e.offers||e.offers&&e.offers.length>=0)&&(e.hasHighOffer=this.hasHighOffer(e),e.hasLowOffer=this.hasLowOffer(e),e.hasExpiredOffers=this.hasExpiredOffers(e),e.hasKickbaseOffersOnly=this.hasKickbaseOffersOnly(e),e.displayName=e.knownName??`${e.firstName} ${e.lastName}`,!1===e.hasHighOffer&&!0===e.hasLowOffer?this.tooLowOffers.push(e):!0===e.hasExpiredOffers&&!0===e.hasKickbaseOffersOnly&&this.expiredOffers.push(e),this.offers.push(e),this.playersStack.push(e.id))})),this.sortOffers(),this.getPlayersOfUser.forEach((e=>{-1===this.playersStack.indexOf(e.id)&&this.playerNotOnMarket.push(e)}))),window.setTimeout((()=>{this.loading=!1}),500)},async putOnMarket(e){this.setLoading(!0),await _t.putOnMarket(e),await this.loadOffers()},async setPlayerOnMarketAgain(e){await _t.setPlayerOnMarketAgain(e),await this.loadOffers()},async acceptOffer(e){this.setLoading(!0),await _t.acceptBids(e.offer),await ct(500),await _t.loadUsersStats(!0),await ct(500),await this.loadOffers()},async declineAllTooLowOrExpiredOffers(){const e=[];for(const t of this.computedDeclinableOffers)await _t.setPlayerOnMarketAgain(t),e.push(t.id);if(await ct(500),await this.load(),this.playerNotOnMarket){let t=!1;for(const a of this.playerNotOnMarket)-1!==e.indexOf(a.id)&&(await _t.setPlayerOnMarketAgain(a),t=!0);t&&await this.load()}},hasKickbaseOffersOnly(e){let t=!1;if(e.offers&&e.offers.length){const a=e.offers.filter((e=>e.userName));t=0===a.length}return t},hasHighOffer(e){let t=!1;if(e.offers&&e.offers.length){const a=e.offers.filter((t=>ht(e,t,this.getOfferThreshold)));t=a.length>=1}return t},hasLowOffer(e){let t=!1;if(e.offers&&e.offers.length){const a=e.offers.filter((t=>!1===ht(e,t,this.getOfferThreshold)));t=a.length>=1}return t},hasExpiredOffers(e){let t=!1;if(e.offers&&e.offers.length){const a=e.offers.filter((e=>!0===pt(e)));t=a.length>=1}return t}}},vr=_r,br=(0,Et.Z)(vr,Js,Qs,!1,null,null,null),kr=br.exports,wr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"full-width-container"},[t("div",{staticClass:"d-flex flex-wrap flex-sm-nowrap justify-space-between align-center"},[t("h2",{staticClass:"text-h4 text-sm-h3 mb-5"},[e._v("News Feed")]),t("reload-button",{attrs:{loading:e.loading},nativeOn:{click:function(t){return e.loadFeed.apply(null,arguments)}}})],1),e.items&&e.items.length?t(n.Z,e._l(e.items,(function(a){return t(bt.Z,{key:a.id,staticStyle:{"margin-bottom":"20px"}},[t("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[e.getPlayerImage(a)?t(Ut.Z,{attrs:{tile:"",size:"125"}},[t(Qt.Z,{attrs:{src:e.getPlayerImage(a),"aspect-ratio":"1"}})],1):e._e(),t(f.Z,{attrs:{"three-line":""}},[t(p.km,[t("div",{staticClass:"overline"},[e._v(" "+e._s(e._f("age")(a.age))+" ")]),t(p.V9,{staticClass:"headline mb-1 wrap-title"},[t("span",{staticClass:"news-details",domProps:{innerHTML:e._s(e.getCardsText(a))}})]),17===a.type?t(p.km,[t(oa.Z,{scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-left"},[e._v(" # ")]),t("th",{staticClass:"text-left"},[e._v(" Name ")]),t("th",{staticClass:"text-left"},[e._v(" Points ")])])]),t("tbody",e._l(a.meta.u,(function(a){return t("tr",{key:a.n},[t("td",[e._v(e._s(a.p))]),t("td",[e._v(e._s(a.n))]),t("td",[e._v(e._s(a.s))])])})),0)]},proxy:!0}],null,!0)})],1):e._e(),e.getPurchaseInfo(a)?t("div",{staticClass:"flex-wrap max-height news-details",domProps:{innerHTML:e._s(e.getPurchaseInfo(a))}}):e._e()],1)],1)],1)])})),1):t("spinner")],1)},Or=[];E().locale("deff");var Cr={name:"feed-view",components:{Spinner:$s,ReloadButton:Vs},filters:{age:e=>{const t=P()().add(e,"seconds");return t.toNow()}},data:()=>({items:[],loading:!1}),computed:{...(0,x.Se)(["getBearerToken","getSelf","getPlayersOfUser","getLeague","getPlayers"]),getToken(){return _t.getToken()}},mounted(){this.loadFeed()},methods:{...(0,x.OI)(["addLoadingMessage","setLoading","resetLoading"]),loadFeed(){this.loading=!0,this.items=[],window.setTimeout((()=>{_t.loadFeed(this.setFeed)}),2e3)},async setFeed(e){if(e.items){this.items=e.items.sort(((e,t)=>e.age>t.age?1:e.age<t.age?-1:0));const t=[];this.items.forEach((e=>{e.meta&&e.meta.p&&e.meta.p.i&&t.push(e.meta.p.i)})),await mt(t),this.loading=!1}},getPlayerImage(e){let t=null;return e.meta&&e.meta.p&&e.meta.p.i&&(t=e.meta.p.i),e.meta&&e.meta.pid&&(t=e.meta.pid),e.meta&&e.meta.f?e.meta.f:t?`https://kkstr.s3.amazonaws.com/pool/playersbig/${t}.png`:null},getCardsText(e){let t=null;if(15===e.type&&e.meta&&e.meta.s&&e.meta.s.n&&e.meta.p&&e.meta.p.n&&(t=`<strong>${e.meta.s.n}</strong> sold <strong>${e.meta.p.n}</strong> to KICKBASE`),15===e.type&&e.meta&&e.meta.b&&e.meta.b.n&&e.meta.p&&e.meta.p.n){let a="KICKBASE";e.meta.s&&e.meta.s.n&&(a=e.meta.s.n),t=`<strong>${e.meta.b.n}</strong> bought <strong>${e.meta.p.n}</strong> from ${a} for:`}return 3===e.type&&(t=`<strong>${e.meta.pfn} ${e.meta.pln}</strong> is on the transfer market`),16===e.type&&(t=`<strong>${e.meta.t}</strong> ${e.meta.sti}`),17===e.type&&(t=`<strong>Matchday #${e.meta.day} results</strong>`),t},getPurchaseInfo(e){let t=null;if(15===e.type&&e.meta&&(e.meta.b||e.meta.s)){const a={verb:e.meta.b?"paid":"sold",over:{color:e.meta.b?"red":"green",determiner:e.meta.b?"more":"over"},under:{color:e.meta.b?"green":"red",determiner:e.meta.b?"less":"below"}},s=e.meta.v,r=E()(s).format("0,0 $");if(t=`${r}`,e.meta.p&&this.getPlayers[e.meta.p.i]){const s=this.getPlayers[e.meta.p.i].marketValue;t+=" | MV: "+E()(s).format("0,0 $");const r=e.meta.v-s,i=(e.meta.v-s)/s;t+=r>0?`&nbsp;|&nbsp;<span style="color: ${a.over.color}">${a.verb} ${E()(r).format("0,0 $")} ${a.over.determiner} MV (${E()(i).format("0.00 %")})</span>`:`&nbsp;|&nbsp;<span style="color: ${a.under.color}">${a.verb} ${E()(r).format("0,0 $")} ${a.under.determiner} MV (${E()(i).format("0.00 %")})</span>`}}return t}}},xr=Cr,Sr=(0,Et.Z)(xr,wr,Or,!1,null,null,null),Pr=Sr.exports,Dr=a(4437),Er=function(){var e=this,t=e._self._c;return t("div",{staticClass:"full-width-container"},[t("div",{staticClass:"d-flex flex-wrap flex-sm-nowrap justify-space-between align-center"},[t("h2",{staticClass:"text-h4 text-sm-h3 mb-5"},[e._v("Live Scores")]),t("reload-button",{attrs:{loading:e.loading},nativeOn:{click:function(t){return e.reload.apply(null,arguments)}}})],1),e.getUsers&&e.getUsers.length?t(pa.Z,{staticClass:"elevation-1 player-card-accordion",attrs:{multiple:"",accordion:""}},e._l(e.getUsers,(function(a,s){return t(ra.Z,{key:a.id},[t(la.Z,{staticClass:"elevation-0",scopedSlots:e._u([{key:"default",fn:function(){return[t(ga.Z,{attrs:{"no-gutters":""}},[t(Dr.Z,{attrs:{cols:"12",md:"3"}},[e._v(" "+e._s(s+1)+". "),t("strong",[e._v(e._s(a.n))]),e._v(": ")]),t(Dr.Z,{staticClass:"text--secondary",attrs:{md:"9",cols:"12"}},[e._v(" "+e._s(a.t)+" / "+e._s(a.st)+" (with "),t("strong",[e._v(e._s(e.numberOfPlayersWhoScored(a.pl)))]),e._v("players, who have scored) ")])],1)]},proxy:!0}],null,!0)}),t(ia.Z,[t(ha.Z,{staticClass:"elevation-1",attrs:{headers:e.headers,items:a.pl,options:e.options,"mobile-breakpoint":0,"hide-default-footer":""}})],1)],1)})),1):t("spinner")],1)},Lr=[];E().locale("deff");var Tr,Ar,Mr={name:"live-view",components:{ReloadButton:Vs,Spinner:$s},data:()=>({loading:!1,headers:[{text:"Name",align:"start",value:"displayName"},{text:"Points",value:"t"},{text:"Goals",value:"g",align:" d-none d-md-table-cell"},{text:"Assists",value:"a",align:" d-none d-md-table-cell"},{text:"Yellow-Card",value:"y",mobile:!1,align:" d-none d-md-table-cell"},{text:"Yellow/Red-Card",value:"yr",align:" d-none d-md-table-cell"},{text:"Red-Card",value:"r",align:" d-none d-md-table-cell"},{text:"position",value:"p",align:" d-none"},{text:"s",value:"s",align:" d-none"},{text:"tid",value:"tid",align:" d-none "}],options:{itemsPerPage:100,body:{isMobile:!1}}}),computed:{...(0,x.Se)(["getLiveData"]),getUsers(){if(this.getLiveData&&this.getLiveData.u&&this.getLiveData.u.length){const e=this.getLiveData.u;return e.sort(((e,t)=>{if(e.t>t.t)return-1;if(e.t<t.t)return 1;if(e.t===t.t){if(e.st>t.st)return-1;if(e.st<t.st)return 1}return 0})),e.forEach((e=>{e.pl.length&&e.pl.forEach((e=>{let t="";e.fn&&(t+=e.fn+" "),t+=`${e.n} (${e.nr})`,e.displayName=t}))})),e}return[]}},mounted(){this.loading=!0,window.setTimeout((()=>{this.reload()}),2e3)},methods:{reload(){this.loading=!0,_t.loadGlobalLiveData((()=>{window.setTimeout((()=>{this.loading=!1}),200)}))},numberOfPlayersWhoScored(e){return e.filter((e=>0!==e.t)).length}}},Zr=Mr,Nr=(0,Et.Z)(Zr,Er,Lr,!1,null,null,null),Ir=Nr.exports,Br=function(){var e=this,t=e._self._c;return t("div",{staticClass:"lineup-container"},[e.loading?t("div",{staticClass:"lineup-container__loading-spinner"},[t(_.Z,{attrs:{indeterminate:"",color:"green",width:"10",size:"120"}})],1):e._e(),e.lineup&&e.lineup.length?t(n.Z,[t("div",{staticClass:"d-md-flex flex-wrap flex-md-nowrap align-center justify-space-between mb-5"},[t("div",{staticClass:"wid"},[e._v(" current formation: "+e._s(e.formation)+" ")]),t("saved-alert",{attrs:{"is-text-style":!1,message:"line-up changes saved",value:e.showSavedMessage}}),t("div",[t(ea.Z,{attrs:{items:e.possibleFormations,filled:"",label:"change formation",color:"primary","hide-details":!0},on:{change:e.changeFormation},model:{value:e.selectedFormation,callback:function(t){e.selectedFormation=t},expression:"selectedFormation"}})],1)],1),t("div",{staticClass:"field"},[t("div",{staticClass:"position__container position--forwards"},e._l(e.lineupBlocks.forwards,(function(a){return t("lineup-item",{key:a.id,attrs:{item:a,matches:e.getMatches},on:{openChangeDialog:e.openChangeDialog}})})),1),t("div",{staticClass:"position__container position--midfielders"},e._l(e.lineupBlocks.midfielders,(function(a){return t("lineup-item",{key:a.id,attrs:{item:a,matches:e.getMatches},on:{openChangeDialog:e.openChangeDialog}})})),1),t("div",{staticClass:"position__container position--defenders"},e._l(e.lineupBlocks.defenders,(function(a){return t("lineup-item",{key:a.id,attrs:{item:a,matches:e.getMatches},on:{openChangeDialog:e.openChangeDialog}})})),1),t("div",{staticClass:"position__container position--goalie"},e._l(e.lineupBlocks.goalie,(function(a){return t("lineup-item",{key:a.id,attrs:{item:a,matches:e.getMatches},on:{openChangeDialog:e.openChangeDialog}})})),1)]),t("div",{staticClass:"h4 mt-4"},[e._v("Goalies")]),t("lineup-table",{attrs:{items:e.goalies}}),t("div",{staticClass:"h4 mt-4"},[e._v("Defenders")]),t("lineup-table",{attrs:{items:e.defenders}}),t("div",{staticClass:"h4 mt-4"},[e._v("Midfielders")]),t("lineup-table",{attrs:{items:e.midfielders}}),t("div",{staticClass:"h4 mt-4"},[e._v("Forwards")]),t("lineup-table",{attrs:{items:e.forwards}}),t(wt.Z,{attrs:{width:"75%"},model:{value:e.lineUpDialog.show,callback:function(t){e.$set(e.lineUpDialog,"show",t)},expression:"lineUpDialog.show"}},[t(bt.Z,[t(kt.EB,{staticClass:"headline black white--text"},[e._v(" changeÂ  "),e.lineUpDialog.player&&e.lineUpDialog.player.id?t("strong",[e._v(e._s(e.playerName(e.lineUpDialog.player)))]):e._e()]),t(kt.ZB,[t("h3",[e._v(" other "+e._s(e.positionName(e.lineUpDialog.position))+" player "),t("small",[e._v("(not already in line-up)")])]),e._l(e.otherPlayer(e.lineUpDialog.player),(function(a){return t("div",{key:a.id,staticClass:"change-line-up__other-player align-center"},[t(vt.Z,{staticClass:"kp-button",attrs:{block:"",color:"deep-purple darken-3 white--text line-up__option-button","x-large":""},on:{click:function(t){return e.saveLineup(e.lineUpDialog.player,a)}}},[t("div",{staticClass:"d-block d-sm-flex flex-wrap flex-sm-nowrap"},[t("div",{staticClass:"d-flex align-center"},[e._v(" "+e._s(e.playerName(a))+" "),e.playerTeamImg(a)?t("img",{attrs:{src:e.playerTeamImg(a)}}):e._e()]),t("div",{staticClass:"d-flex align-center"},[t("status-pill",{attrs:{player:a}}),e.playerVs(a)?t("span",{staticClass:"vsInfo"},[e._v(" vs: "),t("img",{staticClass:"vsTeam",attrs:{src:e.playerVs(a).img}}),e._v(" "+e._s(e.playerVs(a).abbr)+" ")]):e._e()],1)])])],1)})),e.lineUpDialog.player&&e.lineUpDialog.player.id?t(vt.Z,{attrs:{block:"",color:"red darken-3 white--text","x-large":""},on:{click:function(t){return e.saveLineup(e.lineUpDialog.player,{position:e.lineUpDialog.player.position})}}},[e._v(" reset position ")]):e._e()],2),t(o.Z),t(kt.h7,[t(vt.Z,{attrs:{color:"secondary"},on:{click:e.closeChangeDialog}},[e._v(" cancel ")])],1)],1)],1)],1):t("spinner")],1)},jr=[],Fr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"position--lined-up",on:{click:e.openChangeDialog}},[e.item.firstName||e.item.knownName?[t("div",{staticClass:"position__next-match"},[e.nextMatchComputed?t("span",{staticClass:"vsInfo"},[t("img",{staticClass:"vsTeam",attrs:{src:e.teamImage}}),e._v(" vs "),t("img",{staticClass:"vsTeam",attrs:{src:e.nextMatchComputed.img}})]):e._e()]),t("div",{staticClass:"position__avatar"},[e.item.profileBig?t(Qt.Z,{attrs:{src:e.item.profileBig,width:"150",height:"150","aspect-ratio":"1",contain:""}}):t(Ut.Z)],1),t("div",{staticClass:"position__details"},[t("div",{staticClass:"position__details__name"},[e.item.knownName?t("span",{staticClass:"player-name"},[e._v(e._s(e.item.knownName))]):t("span",{staticClass:"player-name"},[e._v(e._s(e.item.firstName)+" "+e._s(e.item.lastName))])]),t("div",{staticClass:"position__details__status"},[t("status-pill",{attrs:{player:e.item}})],1)])]:t("div",{staticClass:"position__choose"},[t(Ut.Z,{staticClass:"no-position",attrs:{size:"48"}},[t(d.Z,{attrs:{size:"48",color:"blue-grey darken-2"}},[e._v(" fa-plus-circle ")])],1),t("span",[e._v("add player")])],1)],2)},Vr=[],Rr={props:{item:{type:Object,required:!0},matches:{type:Array,required:!1}},components:{StatusPill:Oa},computed:{teamImage(){return dt(this.item.teamId)},nextMatchComputed(){return nt(this.matches,this.item)}},methods:{openChangeDialog(){const e=this.item;e.match=this.match,this.$emit("openChangeDialog",{player:e})}}},Ur=Rr,Gr=(0,Et.Z)(Ur,Fr,Vr,!1,null,null,null),Wr=Gr.exports,zr=function(){var e=this,t=e._self._c;return t(oa.Z,{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-left",staticStyle:{width:"25%"}},[e._v(" Name ")]),t("th",{staticClass:"text-left",staticStyle:{width:"25%"}},[e._v(" Total points ")]),t("th",{staticClass:"text-left",staticStyle:{width:"25%"}},[e._v(" Average points ")]),t("th",{staticClass:"text-left",staticStyle:{width:"25%"}},[e._v(" Status ")])])]),t("tbody",e._l(e.items,(function(a){return t("tr",{key:a.name},[t("td",[a.knownName?t("span",[e._v(e._s(a.knownName))]):t("span",[e._v(e._s(a.firstName)+" "+e._s(a.lastName))])]),t("td",[e._v(e._s(a.totalPoints))]),t("td",[e._v(e._s(a.averagePoints))]),t("td",[t("status-pill",{attrs:{player:a}})],1)])})),0)]},proxy:!0}])})},$r=[],qr={props:{items:{type:Array,required:!0}},components:{StatusPill:Oa}},Kr=qr,Hr=(0,Et.Z)(Kr,zr,$r,!1,null,null,null),Yr=Hr.exports,Xr={name:"lineup-component",components:{SavedAlert:Os,LineupTable:Yr,LineupItem:Wr,StatusPill:Oa,Spinner:$s},data:()=>({loading:!1,showSavedMessage:!1,formation:null,selectedFormation:null,possibleFormations:["3-4-3","3-5-2","3-6-1","4-2-4","4-3-3","4-4-2","4-5-1","5-2-3","5-3-2","5-4-1"],lineup:[],lineupBlocks:{goalie:[],defenders:[],midfielders:[],forwards:[]},players:[],positions:{goalie:1,defenders:0,midfielders:0,forwards:0},lineUpDialog:{show:!1,position:"",player:null}}),computed:{...(0,x.Se)(["getLeague","getSelf","getMatches"]),goalies(){let e=[];return this.players.length&&(e=this.players.filter((e=>1===e.position)).sort(this.sort)),e},defenders(){let e=[];return this.players.length&&(e=this.players.filter((e=>2===e.position)).sort(this.sort)),e},midfielders(){let e=[];return this.players.length&&(e=this.players.filter((e=>3===e.position)).sort(this.sort)),e},forwards(){let e=[];return this.players.length&&(e=this.players.filter((e=>4===e.position)).sort(this.sort)),e},linedUpGoalie(){const e=[];this.goalies.length&&this.lineup.length&&this.lineup.forEach((t=>{this.goalies.forEach((a=>{t===a.id&&e.push(a)}))}));const t=e.length;if(t<this.positions.goalie)for(let a=0;a<this.positions.goalie-t;a++)e.push({position:1});return e},linedUpDefenders(){const e=[];this.defenders.length&&this.lineup.length&&this.lineup.forEach((t=>{this.defenders.forEach((a=>{t===a.id&&e.length<this.positions.defenders&&e.push(a)}))}));const t=e.length;if(t<this.positions.defenders)for(let a=0;a<this.positions.defenders-t;a++)e.push({position:2});return e},linedUpMidfielders(){const e=[];this.midfielders.length&&this.lineup.length&&this.lineup.forEach((t=>{this.midfielders.forEach((a=>{t===a.id&&e.length<this.positions.midfielders&&e.push(a)}))}));const t=e.length;if(t<this.positions.midfielders)for(let a=0;a<this.positions.midfielders-t;a++)e.push({position:3});return e},linedUpForwards(){const e=[];this.forwards.length&&this.lineup.length&&this.lineup.forEach((t=>{this.forwards.forEach((a=>{t===a.id&&e.length<this.positions.forwards&&e.push(a)}))}));const t=e.length;if(t<this.positions.forwards)for(let a=0;a<this.positions.forwards-t;a++)e.push({position:4});return e}},mounted(){this.init()},methods:{init:function(){this.getSelf?this.loadLineup():window.setTimeout(this.init,1e3)},loadLineup(){_t.loadLineup((e=>{this.parseLineup(e)}))},parseLineup(e){if(void 0===e.type){this.formation="3-5-2";const e={position:"dummy"};this.lineupBlocks.goalie=[null],this.lineupBlocks.defenders=[null,null,null],this.lineupBlocks.midfielders=[null,null,null,null,null],this.lineupBlocks.forwards=[null,null],this.saveLineup({},e)}else if(e.lineup&&e.players){if(this.players=e.players,e.type){this.formation=e.type;const t=this.formation.split("-");this.positions.defenders=1*t[0],this.positions.midfielders=1*t[1],this.positions.forwards=1*t[2]}this.lineup=e.lineup,this.lineupBlocks.goalie=this.linedUpGoalie,this.lineupBlocks.defenders=this.linedUpDefenders,this.lineupBlocks.midfielders=this.linedUpMidfielders,this.lineupBlocks.forwards=this.linedUpForwards}},sort(e,t){return e.totalPoints<t.totalPoints?1:e.totalPoints>t.totalPoints?-1:0},openChangeDialog(e){this.lineUpDialog.show=!0,this.lineUpDialog.position=e.player.position,this.lineUpDialog.player=e.player},closeChangeDialog(){this.lineUpDialog.show=!1,this.lineUpDialog.position=null,this.lineUpDialog.player=null},changeFormation(){this.formation=this.selectedFormation,this.saveLineup({},{position:"dummy"})},saveLineup(e,t){this.loading=!0,this.lineUpDialog.show=!1;const a=this.lineupBlocks.goalie.map((e=>e&&e.id?e.id:null)),s=this.lineupBlocks.defenders.map((e=>e&&e.id?e.id:null)),r=this.lineupBlocks.midfielders.map((e=>e&&e.id?e.id:null)),i=this.lineupBlocks.forwards.map((e=>e&&e.id?e.id:null)),l=1===t.position?this.changeBlockLineup(a,e,t):a,n=2===t.position?this.changeBlockLineup(s,e,t):s,o=3===t.position?this.changeBlockLineup(r,e,t):r,d=4===t.position?this.changeBlockLineup(i,e,t):i,c=[...l,...n,...o,...d];_t.saveLineup({type:this.formation,id:this.getLeague,actionId:"LU"+this.getLeague,players:c},(()=>{this.loadLineup(),this.loading=!1,this.showSavedMessage=!0,window.setTimeout((()=>{this.showSavedMessage=!1}),2e3)}),(()=>{this.loading=!1}))},changeBlockLineup(e,t,a){const s=a&&a.id?a.id:null,r=t&&t.id?t.id:null,i=[];let l=!1;return e.length?e.forEach((e=>{e===r&&!1===l?(i.push(s),l=!0):i.push(e)})):i.push(s),i},positionName(e){let t=null;return 1===e?t="goalie":2===e?t="defender":3===e?t="midfielder":4===e&&(t="forward"),t},playerName(e){let t="";return e&&(t=e.knownName?e.knownName:e.firstName+" "+e.lastName),t},playerImg(e){let t=null;return e&&(t=e.profileBig),t},playerTeamImg(e){let t=null;return e&&(t=dt(e.teamId)),t},otherPlayer(e){let t=[];return e&&(1===e.position?t=this.goalies.filter((t=>t.id!==e.id)):2===e.position?t=this.defenders.filter((t=>t.id!==e.id)):3===e.position?t=this.midfielders.filter((t=>t.id!==e.id)):4===e.position&&(t=this.forwards.filter((t=>t.id!==e.id))),t=t.filter((e=>-1===this.lineup.indexOf(e.id)))),t},playerVs(e){return nt(this.getMatches,e)}}},Jr=Xr,Qr=(0,Et.Z)(Jr,Br,jr,!1,null,null,null),ei=Qr.exports,ti=a(3333),ai=a(6878),si=a(6808),ri=a(7233),ii=a(3),li=function(){var e=this,t=e._self._c;return t("div",{staticClass:"full-width-container"},[e.getRanking&&e.ranks&&e.ranks.length&&e.getSelf?t("div",[t(si.Z,{attrs:{"background-color":"blue-grey darken-2",dark:"",grow:""},model:{value:e.tabMain,callback:function(t){e.tabMain=t},expression:"tabMain"}},[t(ti.Z,[e._v(" League ")]),t(ti.Z,[e._v(" Detailed Ranking ")]),t(ti.Z,[e._v(" Progression Graphs ")])],1),t(ri.Z,{model:{value:e.tabMain,callback:function(t){e.tabMain=t},expression:"tabMain"}},[t(ai.Z,[t(pa.Z,{staticClass:"elevation-2",attrs:{multiple:"",accordion:""}},e._l(e.ranks,(function(a){return t(ra.Z,{key:a.userId,staticClass:"elevation-4"},[t(la.Z,[[t("div",{staticClass:"d-flex text-h5 text-lg-h4",staticStyle:{"align-items":"center"}},[t("div",[t("strong",{},[e._v(e._s(a.points))]),t("br"),t("small",{staticClass:"d-block text-center text--disabled text-caption"},[e._v("Points")])]),a.user.profile?t(Ut.Z,{staticClass:"my-2 ma-3"},[t("img",{attrs:{src:a.user.profile}})]):t(Ut.Z,{staticClass:"my-2 ma-3"}),e._v(" "+e._s(a.user.name)+" ")],1)]],2),t(ia.Z,[a.user.model&&a.user.model.lineup?t(pa.Z,{staticClass:"elevation-2",attrs:{multiple:"",accordion:""}},[t(ra.Z,[t(la.Z,[e._v(" Lineup ("+e._s(a.user.model.lineup.type)+") ")]),t(ia.Z,[e._v(" "+e._s(a.user.model.lineup.type)+": "),t("br"),e._v(" "+e._s(a.user.computedLineup)+" ")])],1),t(ra.Z,[t(la.Z,[e._v(" Players ("+e._s(a.user.playerList.length)+") ")]),t(ia.Z,[t("ol",e._l(a.user.playerList,(function(a){return t("li",{key:a.name},[e._v(" "+e._s(a.name)+" ")])})),0)])],1),t(ra.Z,[t(la.Z,[e._v(" Players per Team ")]),t(ia.Z,[t("table",{staticClass:"kp-table"},e._l(a.user.playerPerTeamList,(function(a,s){return t("tr",{key:a.teamId},[t("th",{staticStyle:{width:"20px"}},[e._v(" "+e._s(s+1)+". "),t("br"),t(Qt.Z,{attrs:{src:e.getTeamImageById(a.teamId),width:"36",height:"36","aspect-ratio":"1",contain:""}})],1),t("td",[t("div",[t("strong",[e._v(e._s(a.teamName)+": "+e._s(a.players.length))])]),t("ol",e._l(a.players,(function(a){return t("li",{key:a.name},[e._v(" "+e._s(a.name)+" ")])})),0)])])})),0)])],1)],1):e._e()],1)],1)})),1)],1),t(ai.Z,[t(oa.Z,{staticClass:"mb-6",scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-left"},[e._v(" # ")]),t("th",{staticClass:"text-left d-none d-sm-table-cell"}),t("th",{staticClass:"text-left"},[e._v(" Name ")]),t("th",{staticClass:"text-left"},[e._v(" total points ")]),t("th",{staticClass:"text-left"},[e._v(" average points ")]),t("th",{staticClass:"text-left"},[e._v(" advantage to next rank ")]),t("th",{staticClass:"text-left"},[e._v(" points to 1st place ")])])]),t("tbody",e._l(e.ranks,(function(a,s){return t("tr",{key:a.userId,class:{"light-blue lighten-4":a.userId==e.getSelf}},[t("td",[e._v(e._s(s+1)+".")]),t("td",{staticClass:"d-none d-sm-table-cell"},[a.user.profile?t(Ut.Z,{staticClass:"my-2"},[t("img",{attrs:{src:a.user.profile}})]):e._e()],1),t("td",[e._v(e._s(a.user.name))]),t("td",[e._v(e._s(a.points))]),t("td",[e._v(e._s(a.average))]),t("td",[e._v(e._s(a.advantage))]),t("td",[e._v(e._s(a.r1Advantage))])])})),0)]},proxy:!0}],null,!1,2283624116)})],1),t(ai.Z,[t(si.Z,{attrs:{"align-with-title":"","background-color":"blue-grey darken-3",dark:"",grow:""},model:{value:e.tabPG,callback:function(t){e.tabPG=t},expression:"tabPG"}},[t(ii.Z),e._l(e.trends,(function(a){return t(ti.Z,{key:a},[e._v(" "+e._s(a)+" ")])}))],2),t(ri.Z,{model:{value:e.tabPG,callback:function(t){e.tabPG=t},expression:"tabPG"}},e._l(e.trends,(function(a){return t(ai.Z,{key:a},[t(bt.Z,{staticStyle:{height:"500px",position:"relative"},attrs:{flat:""}},[t("div",{staticStyle:{height:"500px",position:"relative"}},[t("ranking-line-chart",{attrs:{height:500,width:1e3,chartdata:e.getChartDetailsByKey(a),options:e.getChartOptionsByKey(a)}})],1)])],1)})),1)],1)],1)],1):t("spinner")],1)},ni=[],oi=a(6663),di={extends:oi.x1,props:["chartdata","options"],mounted(){this.renderChart(this.chartdata,this.options)}},ci=di,ui=(0,Et.Z)(ci,Tr,Ar,!1,null,null,null),fi=ui.exports,hi={name:"ranking-view",components:{Spinner:$s,RankingLineChart:fi},data:()=>({tabMain:0,tabPG:0,trends:["placement","dayPoints","dayPlacement","points","teamValue"],trendOptions:{placement:{rankOrder:!0}},chartOptions:{default:{responsive:!1,scales:{yAxes:[{ticks:{precision:0}}]}},reverse:{responsive:!1,scales:{yAxes:[{ticks:{precision:0,reverse:!0}}]}}}}),computed:{...(0,x.Se)(["getSelf","getRanking","getUsers"]),ranks(){let e=[];if(this.getRanking&&this.getRanking.users&&this.getRanking.users.length&&this.getRanking.matchDays&&this.getRanking.matchDays.length){const t=this.getRanking.matchDays.length-1,a=this.getRanking.matchDays[t].users;a.forEach(((e,s)=>{a[s].average=Math.round(e.points/t);const r=this.getRanking.users.filter((t=>t.id===e.userId));if(1===r.length){const t={...r[0]};t.model=this.getUsers[e.userId],t.computedLineup=this.getComputedLineupForUser(t.model),t.playerList=this.getComputedPlayerListForUser(t.model),t.playerPerTeamList=this.getComputedPlayerPerTeamListForUser(t.model);let i=0,l=0;a[s+1]&&(i=e.points-a[s+1].points),0!==s&&(l=a[0].points-e.points),e.advantage=i,e.r1Advantage=l,e.trends={},this.trends.forEach((t=>{e.trends[t]=[]})),this.getRanking.matchDays.forEach((t=>{if(t.users&&t.users.length){const a=t.users.filter((t=>t.userId===e.userId));a.length&&this.trends.forEach((t=>{a[0][t]&&e.trends[t].push(a[0][t])}))}})),e.user=t}})),e=a}return e}},mounted(){this.init()},methods:{...(0,x.OI)(["setRanking"]),init:async function(){if(this.setRanking(null),this.getSelf){const e=Object.keys(this.getUsers);for(let t=0;t<e.length;t++){const a=e[t];await _t.loadUsersLineup(a),await _t.loadUsersPlayers(a,!1)}await _t.loadRanking()}else window.setTimeout(this.init,1e3)},sort(e,t){return e.points<t.points?1:e.points>t.points?-1:0},getChartOptionsByKey(e){return"dayPlacement"===e||"placement"===e?this.chartOptions.reverse:this.chartOptions.default},getComputedLineupForUser(e){const t=[];return e&&e.players&&e.players.length&&e.lineup&&e.lineup.players&&e.lineup.players.length&&e.lineup.players.forEach((a=>{e.players.forEach((e=>{e.id===a&&(e.knownName?t.push(e.knownName):t.push(e.lastName))}))})),t.join(" - ")},getComputedPlayerPerTeamListForUser(e){const t=this.getComputedPlayerListForUser(e),a={};t.forEach((e=>{a[e.teamId]?a[e.teamId].players.push(e):a[e.teamId]={teamId:e.teamId,teamName:e.teamName,players:[e]}}));const s=[];return Object.keys(a).forEach((e=>{s.push(a[e])})),s.sort((function(e,t){const a=e.players.length,s=t.players.length;return a>s?-1:a<s?1:0})),s},getComputedPlayerListForUser(e){const t=[];if(e&&e.players&&e.players.length){const a=e.players;a.sort((function(e,t){return e.position>t.position?1:e.position<t.position?-1:0})),a.forEach((e=>{e.knownName?t.push({name:e.knownName,teamId:e.teamId,teamName:e.teamName}):t.push({name:e.firstName+" "+e.lastName,teamId:e.teamId,teamName:e.teamName})}))}return t},getTeamImageById(e){return dt(e)},getChartDetailsByKey(e){let t=!1;const a=[],s=[];return this.ranks.forEach((r=>{if(!1===t){for(let e=1;e<=r.trends.dayPoints.length;e++)a.push(e);t=!0}const i={label:r.user.name,borderColor:this.stringToColor(r.user.name),data:r.trends[e],borderWidth:3,lineTension:0,fill:!1};s.push(i)})),{labels:a,datasets:s}},stringToColor(e){var t=["#e51c23","#e91e63","#791335","#9c27b0","#2c0835","#673ab7","#3f51b5","#5677fc","#03a9f4","#00bcd4","#009688","#259b24","#99d798","#12ff12","#8bc34a","#afb42b","#ff9800","#ff5722","#9d2f0c","#795548","#ee00ff","#607d8b","#0988c5","#132127"],a=0;if(0===e.length)return a;for(var s=0;s<e.length;s++)a=e.charCodeAt(s)+((a<<5)-a),a&=a;return a=(a%t.length+t.length)%t.length,t[a]}}},pi=hi,gi=(0,Et.Z)(pi,li,ni,!1,null,null,null),mi=gi.exports,yi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"full-width-container"},[t("h2",{staticClass:"text-h3 text-sm-h2 mb-5"},[e._v("Settings")]),t(bt.Z,{staticClass:"mb-5",attrs:{outlined:""}},[t(kt.ZB,[t("h3",{staticClass:"text-h5 text-sm-h4 mb-5"},[e._v("General")]),t("div",{staticClass:"setting"},[t("h4",{staticClass:"text-h5 setting__headline text--primary"},[e._v("Player-Card")]),t("div",{staticClass:"setting__description"},[t("p"),t("div",{staticClass:"setting__fieldset"},[t("p",{staticClass:"text-h6 text--primary"},[e._v("Show always all details of a player card")]),t("p",{staticClass:"text-body-1"},[e._v("In some contexts a player card doesn't display all details of a player. You can change this behaviour and force all details to be displayed with this setting. You can see an example of a changed behaviour below. "),t("br"),e._v("Default is: "),t("span",{staticClass:"setting__default-value"},[e._v(e._s(e.getPlayerCardShowAlwaysAllDetailsInfo(this.getDefaults.generalPlayerCardShowAlwaysAllDetails)))])]),t("p",{staticClass:"text-body-1"},[e._v("A simplified view of the player card is currently used in the following situations:")]),t("ul",{staticClass:"mb-2 text-body-1"},[t("li",[t("router-link",{attrs:{to:"/sell"}},[e._v("Offers / Sell")]),e._v(" : player with no offer ")],1)]),t("p",{staticClass:"text-body-1"}),t(ta.Z,{attrs:{inset:"",label:e.showAlwaysAllDetailsOfAPlayerCardPanelSettingLabel},model:{value:e.generalPlayerCardShowAlwaysAllDetailsSetting,callback:function(t){e.generalPlayerCardShowAlwaysAllDetailsSetting=t},expression:"generalPlayerCardShowAlwaysAllDetailsSetting"}}),t("saved-alert",{attrs:{value:e.showAlerts.generalPlayerCardShowAlwaysAllDetailsSetting}}),t(pa.Z,{staticClass:"elevation-1 player-card-accordion"},[t(ra.Z,[t(la.Z,{staticClass:"elevation-0"},[t(d.Z,{staticClass:"mr-2 player-card-accordion__icon",attrs:{color:"blue lighten-2"}},[e._v("fa-user")]),e._v(" live example (click to open) ")],1),t(ia.Z,[t("player-card",{attrs:{player:e.dummyPlayer,"hide-meta":!e.generalPlayerCardShowAlwaysAllDetailsSetting}})],1)],1)],1)],1)])])])],1),t(bt.Z,{staticClass:"mb-5",attrs:{outlined:""}},[t(kt.ZB,[t("h3",{staticClass:"text-h5 text-sm-h4 mb-5"},[e._v("Transfer market")]),t("div",{staticClass:"setting"},[t("h4",{staticClass:"text-h5 setting__headline text--primary"},[e._v('display of "expiry date"')]),t("div",{staticClass:"setting__description"},[t("p",{staticClass:"text-body-1"},[e._v('Here you can specify whether the display of the expiration date of transfer market offers should be "relative" or whether the exact time should be displayed by default. Furthermore, you can define whether the two displays should alternate (with a fade-in/fade-out effect).')]),t("div",{staticClass:"setting__fieldset"},[t("p",{staticClass:"text-h6 text--primary"},[e._v("Display type:")]),t("p",{staticClass:"text-body-1"},[e._v(" Default is: "),t("span",{staticClass:"setting__default-value"},[e._v(e._s(e.transfermarketExpiryDateDisplayTypeWording(this.getDefaults.transfermarketExpiryDisplayType)))])]),t(ta.Z,{attrs:{inset:"",value:"timestamp",label:e.transfermarketExpiryDateDisplayTypeSettingLabel},model:{value:e.transfermarketExpiryDateDisplayTypeSetting,callback:function(t){e.transfermarketExpiryDateDisplayTypeSetting=t},expression:"transfermarketExpiryDateDisplayTypeSetting"}}),t("saved-alert",{attrs:{value:e.showAlerts.transfermarketExpiryDateDisplayTypeSetting}})],1),t("div",{staticClass:"setting__fieldset"},[t("p",{staticClass:"text-h6 text--primary"},[e._v("Use fade-in/fade-out effect:")]),t("p",{staticClass:"text-body-1"},[e._v(" Default is: "),t("span",{staticClass:"setting__default-value"},[e._v(e._s(e.transfermarketExpiryDateFadeEffectSettingWording(this.getDefaults.transfermarketExpiryDateFadeEffect)))])]),t(ta.Z,{attrs:{inset:"",label:e.transfermarketExpiryDateFadeEffectSettingLabel},model:{value:e.transfermarketExpiryDateFadeEffectSetting,callback:function(t){e.transfermarketExpiryDateFadeEffectSetting=t},expression:"transfermarketExpiryDateFadeEffectSetting"}}),t("saved-alert",{attrs:{value:e.showAlerts.transfermarketExpiryDateFadeEffectSetting}})],1)])])])],1),t(bt.Z,{staticClass:"mb-5",attrs:{outlined:""}},[t(kt.ZB,[t("h3",{staticClass:"text-h5 text-sm-h4 mb-5"},[e._v("Offers / Sell")]),t("div",{staticClass:"setting"},[t("h4",{staticClass:"text-h5 setting__headline text--primary"},[e._v("Offer Threshold")]),t("div",{staticClass:"setting__description"},[t("p",{staticClass:"text-body-1"},[e._v("This setting affects:")]),t("ul",{staticClass:"mb-2 text-body-1"},[t("li",[e._v('Button: "Decline all bids that are too low"')]),t("li",[e._v('Buttons: "Decline and add again"')])]),t("p",{staticClass:"text-body-1"},[e._v(' This setting specifies the threshold at which an offer is considered to be "too low".'),t("br"),e._v("The specification is in percent. Default is: "),t("span",{staticClass:"setting__default-value"},[e._v(e._s(e.getDefaults.offerThreshold))])]),t("p",[e._v(" You can find the buttons at "),t("router-link",{attrs:{to:"/sell"}},[e._v("Offers / Sell")]),e._v(" . ")],1),t(Jt.Z,{attrs:{type:"info",outlined:""}},[t("p",[e._v("Good to know:")]),t("p",[e._v("Kickbase will give you an offer that will be between -1% and +1% of that player's market value each time.")]),t("p",{staticClass:"text-caption"},[e._v(" Example:"),t("br"),e._v(" Your player has a market value of "),t("em",[e._v("1.000.000")]),e._v(" and Kickbase offered you a bid, which will be between -100.000 â¬ (lowest bid) and 100.000 â¬ (highest bid). "),t("br"),e._v(' If you click the "Decline all bids that are too low" button, the offer will be rejected if the bid is not at least "'),t("strong",[e._v(e._s(e._f("numeral")(e.rejectAllExampleValue,"0,0 $")))]),e._v('" high (based on your current setting). If an offer was rejected, the player will be automatically put back on the transfer market. ')])])],1),t("div",{staticClass:"setting__input"},[t("p",{staticClass:"mb-0 text-caption"},[e._v("Percentage:")]),t("number-input",{attrs:{controls:"",step:.05,inline:"",max:.95,min:.05},model:{value:e.offerThresholdSetting,callback:function(t){e.offerThresholdSetting=t},expression:"offerThresholdSetting"}}),t("saved-alert",{attrs:{value:e.showAlerts.offerThresholdSetting}})],1)]),t("div",{staticClass:"setting"},[t("h4",{staticClass:"text-h5 setting__headline text--primary"},[e._v("Order by")]),t("div",{staticClass:"setting__description"},[t("p",{staticClass:"text-body-1"},[e._v(" With this setting you can define how the order should be right after loading all offers. ")]),t("p",{staticClass:"text-body-1"},[e._v("Changing the order within the offer list is only temporary and will be reset as soon as you leave the page")]),t("p",{staticClass:"text-body-1"},[e._v(" Default is: "),t("span",{staticClass:"setting__default-value"},[e._v('"order by Â '),t("em",[e._v(e._s(e.offerOrderDefaultLabel))]),e._v('"')])]),t("p",[e._v(" You can find the order select at "),t("router-link",{attrs:{to:"/sell"}},[e._v("Offers / Sell")]),e._v(" . ")],1)]),t("div",{staticClass:"setting__input"},[t("sell-view-order",{attrs:{"is-temporary":!1,callback:e.offerOrderSaveBubble}}),t("saved-alert",{attrs:{value:e.showAlerts.offerOrder}})],1)]),t("div",{staticClass:"setting"},[t("h4",{staticClass:"text-h5 setting__headline text--primary"},[e._v("Expand panels")]),t("div",{staticClass:"setting__description"},[t("p",{staticClass:"text-body-1"},[e._v(" These settings control which panels should be opened automatically as soon as there are players in the respective category. ")]),t("p",[e._v(" You can find the panels at "),t("router-link",{attrs:{to:"/sell"}},[e._v("Offers / Sell")]),e._v(" . ")],1),t("div",{staticClass:"setting__fieldset"},[t("p",{staticClass:"text-h6 text--primary"},[e._v("Player not on market: ")]),t("p",{staticClass:"text-body-1"},[e._v(" Default is: "),t("span",{staticClass:"setting__default-value"},[e._v(e._s(e.getPanelWording(this.getDefaults.offerOpenPlayerNotOnMarketPanel)))])]),t(ta.Z,{attrs:{inset:"",label:e.offerOpenPlayerNotOnMarketPanelSettingLabel},model:{value:e.offerOpenPlayerNotOnMarketPanelSetting,callback:function(t){e.offerOpenPlayerNotOnMarketPanelSetting=t},expression:"offerOpenPlayerNotOnMarketPanelSetting"}}),t("saved-alert",{attrs:{value:e.showAlerts.offerOpenPlayerNotOnMarketPanelSetting}})],1),t("div",{staticClass:"setting__fieldset"},[t("p",{staticClass:"text-h6 text--primary"},[e._v("Player without any offer: ")]),t("p",{staticClass:"text-body-1"},[e._v(" Default is: "),t("span",{staticClass:"setting__default-value"},[e._v(e._s(e.getPanelWording(this.getDefaults.offerOpenPlayerWithoutAnyOfferPanel)))])]),t(ta.Z,{attrs:{inset:"",label:e.offerOpenPlayerWithoutAnyOfferPanelSettingLabel},model:{value:e.offerOpenPlayerWithoutAnyOfferPanelSetting,callback:function(t){e.offerOpenPlayerWithoutAnyOfferPanelSetting=t},expression:"offerOpenPlayerWithoutAnyOfferPanelSetting"}}),t("saved-alert",{attrs:{value:e.showAlerts.offerOpenPlayerWithoutAnyOfferPanelSetting}})],1)])]),t("div",{staticClass:"setting"},[t("h4",{staticClass:"text-h5 setting__headline text--primary"},[e._v("Show only too low offers")]),t("div",{staticClass:"setting__description"},[t("p",{staticClass:"text-body-1"},[e._v(' If this checkbox is set, only offers that are too low will be shown directly after loading the page (see option "Offer Threshold" above) ')]),t("p",{staticClass:"text-body-1"},[e._v("Changing the checkbox within the offer list is only temporary and will be reset as soon as you leave the page.")]),t("p",{staticClass:"text-body-1"},[e._v(" Default is: "),t("span",{staticClass:"setting__default-value"},[e._v(e._s(e.getDefaults.offerShowTooLowOffersOnly))])]),t("p",[e._v(" You can find the order select at "),t("router-link",{attrs:{to:"/sell"}},[e._v("Offers / Sell")]),e._v(" . ")],1)]),t("div",{staticClass:"setting__input"},[t(Xs.Z,{attrs:{label:"show only too low offers"},model:{value:e.offerShowTooLowOffersOnlySetting,callback:function(t){e.offerShowTooLowOffersOnlySetting=t},expression:"offerShowTooLowOffersOnlySetting"}}),t("saved-alert",{attrs:{value:e.showAlerts.offerShowTooLowOffersOnlySetting}})],1)])])],1)],1)},_i=[];const vi="Open panel automatically",bi="Keep panel closed",ki="Show always all details",wi="Hide details in some contexts",Oi="use fade-in/fade-out effect",Ci="don't use fade-in/fade-out effect",xi='show complete timestamp, like "10:15 am"',Si='show "relative" expression, like "in an hour"';var Pi={name:"SettingsView",components:{PlayerCard:za,SavedAlert:Os,SellViewOrder:yr},data(){return{initialized:!1,offerThresholdSetting:null,generalPlayerCardShowAlwaysAllDetailsSetting:null,offerOpenPlayerNotOnMarketPanelSetting:null,offerOpenPlayerWithoutAnyOfferPanelSetting:null,offerShowTooLowOffersOnlySetting:null,transfermarketExpiryDateFadeEffectSetting:null,transfermarketExpiryDateDisplayTypeSetting:null,debouncedCallback:null,showAlerts:{generalPlayerCardShowAlwaysAllDetailsSetting:!1,offerThresholdSetting:!1,offerOrder:!1,offerOpenPlayerNotOnMarketPanelSetting:!1,offerOpenPlayerWithoutAnyOfferPanelSetting:!1,offerShowTooLowOffersOnlySetting:!1,transfermarketExpiryDateFadeEffectSetting:!1,transfermarketExpiryDateDisplayTypeSetting:!1},dummyPlayer:{id:"23",teamId:"9",userId:"123456789",userProfile:"https://kickbase.b-cdn.net/user/76d32515d3e3459386352033b1412ae0.jpeg",username:"Dummy",firstName:"John",lastName:"Doe",profile:null,status:0,position:3,number:6,totalPoints:1814,averagePoints:181,marketValue:48059668,price:48059668,date:"2022-10-17T13:18:04Z",expiry:2580336,offers:[],lus:1,marketValueTrend:2,hasHighOffer:!1,hasLowOffer:!1,hasExpiredOffers:!1,hasKickbaseOffersOnly:!1,displayName:"John Dow"}}},created(){this.debouncedCallback=fa()(((...e)=>{"function"===typeof e[0]&&e[0]()}),1e3)},mounted(){this.offerThresholdSetting=this.getOfferThreshold,this.offerOpenPlayerNotOnMarketPanelSetting=this.getOfferOpenPlayerNotOnMarketPanel,this.offerOpenPlayerWithoutAnyOfferPanelSetting=this.getOfferOpenPlayerWithoutAnyOfferPanel,this.offerShowTooLowOffersOnlySetting=this.getOfferShowTooLowOffersOnly,this.generalPlayerCardShowAlwaysAllDetailsSetting=this.getGeneralPlayerCardShowAlwaysAllDetails,this.transfermarketExpiryDateFadeEffectSetting=this.getTransfermarketExpiryDateFadeEffect,this.transfermarketExpiryDateDisplayTypeSetting=this.getTransfermarketExpiryDisplayType},watch:{offerThresholdSetting(e){this.debouncedCallback((()=>{e===this.offerThresholdSetting&&this.initialized&&(this.setOfferThreshold(e),this.flashSaveMessage("offerThresholdSetting")),this.initialized=!0}))},offerShowTooLowOffersOnlySetting(e){this.debouncedCallback((()=>{e===this.offerShowTooLowOffersOnlySetting&&this.initialized&&(this.setOfferShowTooLowOffersOnly(e),this.flashSaveMessage("offerShowTooLowOffersOnlySetting")),this.initialized=!0}))},offerOpenPlayerNotOnMarketPanelSetting(e){this.debouncedCallback((()=>{e===this.offerOpenPlayerNotOnMarketPanelSetting&&this.initialized&&(this.setOfferOpenPlayerNotOnMarketPanel(e),this.flashSaveMessage("offerOpenPlayerNotOnMarketPanelSetting")),this.initialized=!0}))},offerOpenPlayerWithoutAnyOfferPanelSetting(e){this.debouncedCallback((()=>{e===this.offerOpenPlayerWithoutAnyOfferPanelSetting&&this.initialized&&(this.setOfferOpenPlayerWithoutAnyOfferPanel(e),this.flashSaveMessage("offerOpenPlayerWithoutAnyOfferPanelSetting")),this.initialized=!0}))},generalPlayerCardShowAlwaysAllDetailsSetting(e){this.debouncedCallback((()=>{e===this.generalPlayerCardShowAlwaysAllDetailsSetting&&this.initialized&&(this.setGeneralPlayerCardShowAlwaysAllDetails(e),this.flashSaveMessage("generalPlayerCardShowAlwaysAllDetailsSetting")),this.initialized=!0}))},transfermarketExpiryDateFadeEffectSetting(e){this.debouncedCallback((()=>{e===this.transfermarketExpiryDateFadeEffectSetting&&this.initialized&&(this.setTransfermarketExpiryDateFadeEffect(e),this.flashSaveMessage("transfermarketExpiryDateFadeEffectSetting")),this.initialized=!0}))},transfermarketExpiryDateDisplayTypeSetting(e){this.debouncedCallback((()=>{if(e===this.transfermarketExpiryDateDisplayTypeSetting&&this.initialized){const t="timestamp"!==e?"relative":"timestamp";this.setTransfermarketExpiryDisplayType(t),this.flashSaveMessage("transfermarketExpiryDateDisplayTypeSetting")}this.initialized=!0}))}},computed:{...(0,x.Se)(["getDefaults","getOfferThreshold","getOfferOpenPlayerNotOnMarketPanel","getOfferOpenPlayerWithoutAnyOfferPanel","getOfferShowTooLowOffersOnly","getGeneralPlayerCardShowAlwaysAllDetails","getTransfermarketExpiryDateFadeEffect","getTransfermarketExpiryDisplayType"]),rejectAllExampleValue(){return 1e5*this.getOfferThreshold},offerOrderDefaultLabel(){return this.getDefaults.offerOrders[this.getDefaults.offerOrder]},offerOpenPlayerWithoutAnyOfferPanelSettingLabel(){return this.offerOpenPlayerWithoutAnyOfferPanelSetting?vi:bi},offerOpenPlayerNotOnMarketPanelSettingLabel(){return this.offerOpenPlayerNotOnMarketPanelSetting?vi:bi},transfermarketExpiryDateFadeEffectSettingLabel(){return this.transfermarketExpiryDateFadeEffectSetting?Oi:Ci},transfermarketExpiryDateDisplayTypeSettingLabel(){return"timestamp"===this.transfermarketExpiryDateDisplayTypeSetting?xi:Si},showAlwaysAllDetailsOfAPlayerCardPanelSettingLabel(){return this.generalPlayerCardShowAlwaysAllDetailsSetting?ki:wi}},methods:{...(0,x.OI)(["setOfferThreshold","setOfferOpenPlayerNotOnMarketPanel","setOfferOpenPlayerWithoutAnyOfferPanel","setOfferShowTooLowOffersOnly","setGeneralPlayerCardShowAlwaysAllDetails","setTransfermarketExpiryDateFadeEffect","setTransfermarketExpiryDisplayType"]),offerOrderSaveBubble(){this.flashSaveMessage("offerOrder")},flashSaveMessage(e){this.initialized&&Object.hasOwn(this.showAlerts,e)&&(this.showAlerts[e]=!0,window.setTimeout((()=>{this.showAlerts[e]=!1}),2e3))},getPanelWording(e){return e?vi:bi},transfermarketExpiryDateFadeEffectSettingWording(e){return e?Oi:Ci},transfermarketExpiryDateDisplayTypeWording(e){return"timestamp"===e?xi:Si},getPlayerCardShowAlwaysAllDetailsInfo(e){return e?ki:wi}}},Di=Pi,Ei=(0,Et.Z)(Di,yi,_i,!1,null,null,null),Li=Ei.exports;s.ZP.use(Rt.ZP);const Ti=[{path:"/",component:Xt},{path:"/home",component:Xt},{path:"/feed",component:Pr},{path:"/transfermarket",component:Ys},{path:"/sell",component:kr},{path:"/live",component:Ir},{path:"/lineup",component:ei},{path:"/table",component:mi},{path:"/settings",component:Li}],Ai=new Rt.ZP({routes:Ti,scrollBehavior(){return{x:0,y:0}}});var Mi=Ai;a(3253),s.ZP.config.productionTip=!1,E().register("locale","deff",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"â¬"}}),s.ZP.use(jt.Z,{locale:"deff"}),s.ZP.use(Vt());let Zi=1*localStorage.getItem(me.LOCALSTORAGE.OFFER_THRESHOLD);Zi||(Zi=lt.getters.getDefaults.offerThreshold),lt.commit("setOfferThreshold",Zi);let Ni=localStorage.getItem(me.LOCALSTORAGE.OFFER_ORDER);Ni||(Ni=lt.getters.getDefaults.offerOrder),lt.commit("setOfferOrder",{order:Ni,isTemporary:!1});let Ii=localStorage.getItem(me.LOCALSTORAGE.OFFER_PANEL_PLAYER_NOT_ON_MARKET);Ii="undefined"===typeof Ii||null===Ii?lt.getters.getDefaults.offerOpenPlayerNotOnMarketPanel:"true"===Ii,lt.commit("setOfferOpenPlayerNotOnMarketPanel",Ii);let Bi=localStorage.getItem(me.LOCALSTORAGE.OFFER_PANEL_PLAYER_WITHOUT_ANY_OFFER);Bi="undefined"===typeof Bi||null===Bi?lt.getters.getDefaults.offerOpenPlayerWithoutAnyOfferPanel:"true"===Bi,lt.commit("setOfferOpenPlayerWithoutAnyOfferPanel",Bi);let ji=localStorage.getItem(me.LOCALSTORAGE.OFFER_SHOW_TOO_LOW_OFFERS_ONLY);ji="undefined"===typeof ji||null===ji?lt.getters.getDefaults.offerShowTooLowOffersOnly:"true"===ji,lt.commit("setOfferShowTooLowOffersOnly",ji);let Fi=localStorage.getItem(me.LOCALSTORAGE.GENERAL_PLAYER_CARD_SHOW_ALWAYS_ALL_DETAILS);Fi="undefined"===typeof Fi||null===Fi?lt.getters.getDefaults.generalPlayerCardShowAlwaysAllDetails:"true"===Fi,lt.commit("setGeneralPlayerCardShowAlwaysAllDetails",Fi);let Vi=localStorage.getItem(me.LOCALSTORAGE.TRANSFER_MARKET_EXPIRY_DATE_FADE_EFFECT);Vi="undefined"===typeof Vi||null===Vi?lt.getters.getDefaults.transfermarketExpiryDateFadeEffect:"true"===Vi,lt.commit("setTransfermarketExpiryDateFadeEffect",Vi);let Ri=localStorage.getItem(me.LOCALSTORAGE.TRANSFER_MARKET_EXPIRY_DISPLAY_TYPE);"undefined"!==typeof Ri&&null!==Ri||(Ri=lt.getters.getDefaults.transfermarketExpiryDisplayType),lt.commit("setTransfermarketExpiryDisplayType",Ri),new s.ZP({vuetify:Bt,router:Mi,store:lt,render:e=>e(Nt)}).$mount("#app")},3253:function(e,t,a){"use strict";a.r(t)},6700:function(e,t,a){var s={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=i,e.exports=r,r.id=6700}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,i){if(!s){var l=1/0;for(c=0;c<e.length;c++){s=e[c][0],r=e[c][1],i=e[c][2];for(var n=!0,o=0;o<s.length;o++)(!1&i||l>=i)&&Object.keys(a.O).every((function(e){return a.O[e](s[o])}))?s.splice(o--,1):(n=!1,i<l&&(l=i));if(n){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,r,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,i,l=s[0],n=s[1],o=s[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(o)var c=o(a)}for(t&&t(s);d<l.length;d++)i=l[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},s=self["webpackChunkkickbase_plus"]=self["webpackChunkkickbase_plus"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2216)}));s=a.O(s)})();
//# sourceMappingURL=app.1b3586fc.js.map